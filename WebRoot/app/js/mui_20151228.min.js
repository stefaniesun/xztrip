/*!
 *  2015/12/28 ivan edit pullRefresh android 5+
 *  2015/12/28该文件被ivan重新编辑，删除了下拉刷新安卓5+api专用代码，并阻止了对安卓5+下拉刷新的调用判断api（mui.init pulldownRefresh）
 *
 * =====================================================
 * Mui v2.7.0 (http://dev.dcloud.net.cn/mui)
 * =====================================================
 */
var mui=(function(h,d){var b=/complete|loaded|interactive/;var f=/^#([\w-]+)$/;var g=/^\.([\w-]+)$/;var j=/^[\w-]+$/;var a=/translate(?:3d)?\((.+?)\)/;var k=/matrix(3d)?\((.+?)\)/;var e=function(l,m){m=m||h;if(!l){return c()}if(typeof l==="object"){return c([l],null)}if(typeof l==="function"){return e.ready(l)}if(typeof l==="string"){try{l=l.trim();if(f.test(l)){var n=h.getElementById(RegExp.$1);return c(n?[n]:[])}return c(e.qsa(l,m),l)}catch(o){}}return c()};var c=function(m,l){m=m||[];Object.setPrototypeOf(m,e.fn);m.selector=l||"";return m};e.uuid=0;e.data={};e.extend=function(){var u,n,l,m,r,s,q=arguments[0]||{},p=1,o=arguments.length,t=false;if(typeof q==="boolean"){t=q;q=arguments[p]||{};p++}if(typeof q!=="object"&&!e.isFunction(q)){q={}}if(p===o){q=this;p--}for(;p<o;p++){if((u=arguments[p])!=null){for(n in u){l=q[n];m=u[n];if(q===m){continue}if(t&&m&&(e.isPlainObject(m)||(r=e.isArray(m)))){if(r){r=false;s=l&&e.isArray(l)?l:[]}else{s=l&&e.isPlainObject(l)?l:{}}q[n]=e.extend(t,s,m)}else{if(m!==d){q[n]=m}}}}}return q};e.noop=function(){};e.slice=[].slice;e.filter=[].filter;e.type=function(l){return l==null?String(l):i[{}.toString.call(l)]||"object"};e.isArray=Array.isArray||function(l){return l instanceof Array};e.isWindow=function(l){return l!=null&&l===l.window};e.isObject=function(l){return e.type(l)==="object"};e.isPlainObject=function(l){return e.isObject(l)&&!e.isWindow(l)&&Object.getPrototypeOf(l)===Object.prototype};e.isEmptyObject=function(m){for(var l in m){if(l!==d){return false}}return true};e.isFunction=function(l){return e.type(l)==="function"};e.qsa=function(l,m){m=m||h;return e.slice.call(g.test(l)?m.getElementsByClassName(RegExp.$1):j.test(l)?m.getElementsByTagName(l):m.querySelectorAll(l))};e.ready=function(l){if(b.test(h.readyState)){l(e)}else{h.addEventListener("DOMContentLoaded",function(){l(e)},false)}return this};e.each=function(n,o,m){if(!n){return this}if(typeof n.length==="number"){[].every.call(n,function(q,p){return o.call(q,p,q)!==false})}else{for(var l in n){if(m){if(n.hasOwnProperty(l)){if(o.call(n[l],l,n[l])===false){return n}}}else{if(o.call(n[l],l,n[l])===false){return n}}}}return this};e.focus=function(l){if(e.os.ios){setTimeout(function(){l.focus()},10)}else{l.focus()}};e.trigger=function(m,l,n){m.dispatchEvent(new CustomEvent(l,{detail:n,bubbles:true,cancelable:true}));return this};e.getStyles=function(l,n){var m=l.ownerDocument.defaultView.getComputedStyle(l,null);if(n){return m.getPropertyValue(n)||m[n]}return m};e.parseTranslate=function(n,m){var l=n.match(a||"");if(!l||!l[1]){l=["","0,0,0"]}l=l[1].split(",");l={x:parseFloat(l[0]),y:parseFloat(l[1]),z:parseFloat(l[2])};if(m&&l.hasOwnProperty(m)){return l[m]}return l};e.parseTranslateMatrix=function(p,m){var n=p.match(k);var o=n&&n[1];if(n){n=n[2].split(",");if(o==="3d"){n=n.slice(12,15)}else{n.push(0);n=n.slice(4,7)}}else{n=[0,0,0]}var l={x:parseFloat(n[0]),y:parseFloat(n[1]),z:parseFloat(n[2])};if(m&&l.hasOwnProperty(m)){return l[m]}return l};e.hooks={};e.addAction=function(m,n){var l=e.hooks[m];if(!l){l=[]}n.index=n.index||1000;l.push(n);l.sort(function(p,o){return p.index-o.index});e.hooks[m]=l;return e.hooks[m]};e.doAction=function(l,m){if(e.isFunction(m)){e.each(e.hooks[l],m)}else{e.each(e.hooks[l],function(n,o){return !o.handle()})}};e.later=function(p,n,o,t){n=n||0;var l=p;var u=t;var s;var q;if(typeof p==="string"){l=o[p]}s=function(){l.apply(o,e.isArray(u)?u:[u])};q=setTimeout(s,n);return{id:q,cancel:function(){clearTimeout(q)}}};e.now=Date.now||function(){return +new Date()};var i={};e.each(["Boolean","Number","String","Function","Array","Date","RegExp","Object","Error"],function(m,l){i["[object "+l+"]"]=l.toLowerCase()});if(window.JSON){e.parseJSON=JSON.parse}e.fn={each:function(l){[].every.call(this,function(n,m){return l.call(n,m,n)!==false});return this}};if(typeof define==="function"&&define.amd){define("mui",[],function(){return e})}return e})(document);(function(c,b){function a(e){this.os={};var d=[function(){var f=e.match(/(MicroMessenger)\/([\d\.]+)/i);if(f){this.os.wechat={version:f[2].replace(/_/g,".")}}return false},function(){var f=e.match(/(Android);?[\s\/]+([\d.]+)?/);if(f){this.os.android=true;this.os.version=f[2];this.os.isBadAndroid=!(/Chrome\/\d/.test(b.navigator.appVersion))}return this.os.android===true},function(){var g=e.match(/(iPhone\sOS)\s([\d_]+)/);if(g){this.os.ios=this.os.iphone=true;this.os.version=g[2].replace(/_/g,".")}else{var f=e.match(/(iPad).*OS\s([\d_]+)/);if(f){this.os.ios=this.os.ipad=true;this.os.version=f[2].replace(/_/g,".")}}return this.os.ios===true}];[].every.call(d,function(f){return !f.call(c)})}a.call(c,navigator.userAgent)})(mui,window);(function(c,a){function b(d){this.os=this.os||{};var e=d.match(/Html5Plus/i);if(e){this.os.plus=true;c(function(){a.body.classList.add("mui-plus")});if(d.match(/StreamApp/i)){this.os.stream=true;c(function(){a.body.classList.add("mui-plus-stream")})}}}b.call(c,navigator.userAgent)})(mui,document);(function(c,b,a){c.targets={};c.targetHandles=[];c.registerTarget=function(d){d.index=d.index||1000;c.targetHandles.push(d);c.targetHandles.sort(function(f,e){return f.index-e.index});return c.targetHandles};b.addEventListener("touchstart",function(e){var f=e.target;var d={};for(;f&&f!==a;f=f.parentNode){var g=false;c.each(c.targetHandles,function(i,j){var h=j.name;if(!g&&!d[h]&&j.hasOwnProperty("handle")){c.targets[h]=j.handle(e,f);if(c.targets[h]){d[h]=true;if(j.isContinue!==true){g=true}}}else{if(!d[h]){if(j.isReset!==false){c.targets[h]=false}}}});if(g){break}}});b.addEventListener("click",function(d){var e=d.target;var f=false;for(;e&&e!==a;e=e.parentNode){if(e.tagName==="A"){c.each(c.targetHandles,function(h,i){var g=i.name;if(i.hasOwnProperty("handle")){if(i.handle(d,e)){f=true;d.preventDefault();return false}}});if(f){break}}}})})(mui,window,document);(function(a){if(String.prototype.trim===a){String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}}Object.setPrototypeOf=Object.setPrototypeOf||function(c,b){c.__proto__=b;return c}})();(function(){if(typeof window.CustomEvent==="undefined"){function a(e,f){f=f||{bubbles:false,cancelable:false,detail:undefined};var c=document.createEvent("Events");var b=true;for(var d in f){(d==="bubbles")?(b=!!f[d]):(c[d]=f[d])}c.initEvent(e,b,true);return c}a.prototype=window.Event.prototype;window.CustomEvent=a}})();Function.prototype.bind=Function.prototype.bind||function(d){var a=Array.prototype.splice.call(arguments,1),c=this;var b=function(){var e=a.concat(Array.prototype.splice.call(arguments,0));if(!(this instanceof b)){return c.apply(d,e)}c.apply(this,e)};b.prototype=c.prototype;return b};(function(a){if(!("classList" in a.documentElement)&&Object.defineProperty&&typeof HTMLElement!=="undefined"){Object.defineProperty(HTMLElement.prototype,"classList",{get:function(){var b=this;function d(e){return function(h){var g=b.className.split(/\s+/),f=g.indexOf(h);e(g,f,h);b.className=g.join(" ")}}var c={add:d(function(f,e,g){~e||f.push(g)}),remove:d(function(f,e){~e&&f.splice(e,1)}),toggle:d(function(f,e,g){~e?f.splice(e,1):f.push(g)}),contains:function(e){return !!~b.className.split(/\s+/).indexOf(e)},item:function(e){return b.className.split(/\s+/)[e]||null}};Object.defineProperty(c,"length",{get:function(){return b.className.split(/\s+/).length}});return c}})}})(document);(function(a){if(!a.requestAnimationFrame){var b=0;a.requestAnimationFrame=a.webkitRequestAnimationFrame||function(g,d){var c=new Date().getTime();var e=Math.max(0,16.7-(c-b));var f=a.setTimeout(function(){g(c+e)},e);b=c+e;return f};a.cancelAnimationFrame=a.webkitCancelAnimationFrame||a.webkitCancelRequestAnimationFrame||function(c){clearTimeout(c)}}}(window));(function(d,b,a){if(b.FastClick){return}var c=function(f,g){if(g.tagName==="LABEL"){if(g.parentNode){g=g.parentNode.querySelector("input")}}if(g&&(g.type==="radio"||g.type==="checkbox")){if(!g.disabled){return g}}return false};d.registerTarget({name:a,index:40,handle:c,target:false});var e=function(h){var g=d.targets.click;if(g){var f,i;if(document.activeElement&&document.activeElement!==g){document.activeElement.blur()}i=h.detail.gesture.changedTouches[0];f=document.createEvent("MouseEvents");f.initMouseEvent("click",true,true,b,1,i.screenX,i.screenY,i.clientX,i.clientY,false,false,false,false,0,null);f.forwardedTouchEvent=true;g.dispatchEvent(f);h.detail&&h.detail.gesture.preventDefault()}};b.addEventListener("tap",e);b.addEventListener("doubletap",e);b.addEventListener("click",function(f){if(d.targets.click){if(!f.forwardedTouchEvent){if(f.stopImmediatePropagation){f.stopImmediatePropagation()}else{f.propagationStopped=true}f.stopPropagation();f.preventDefault();return false}}},true)})(mui,window,"click");(function(b,a){b(function(){if(!b.os.ios){return}var c="mui-focusin";var g="mui-bar-tab";var d="mui-bar-footer";var e="mui-bar-footer-secondary";var f="mui-bar-footer-secondary-tab";a.addEventListener("focusin",function(k){if(b.os.plus){if(window.plus){if(plus.webview.currentWebview().children().length>0){return}}}var j=k.target;if(j.tagName&&(j.tagName==="TEXTAREA"||(j.tagName==="INPUT"&&(j.type==="text"||j.type==="search"||j.type==="number")))){if(j.disabled||j.readOnly){return}a.body.classList.add(c);var h=false;for(;j&&j!==a;j=j.parentNode){var m=j.classList;if(m&&m.contains(g)||m.contains(d)||m.contains(e)||m.contains(f)){h=true;break}}if(h){var i=a.body.scrollHeight;var l=a.body.scrollLeft;setTimeout(function(){window.scrollTo(l,i)},20)}}});a.addEventListener("focusout",function(h){var i=a.body.classList;if(i.contains(c)){i.remove(c);setTimeout(function(){window.scrollTo(a.body.scrollLeft,a.body.scrollTop)},20)}})})})(mui,document);(function(a){a.namespace="mui";a.classNamePrefix=a.namespace+"-";a.classSelectorPrefix="."+a.classNamePrefix;a.className=function(b){return a.classNamePrefix+b};a.classSelector=function(b){return b.replace(/\./g,a.classSelectorPrefix)};a.eventName=function(c,b){return c+(a.namespace?("."+a.namespace):"")+(b?("."+b):"")}})(mui);(function(f){var a=1;var g={};var i={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};var e=function(){return true};var d=function(){return false};var h=function(m,n){if(!m.detail){m.detail={currentTarget:n}}else{m.detail.currentTarget=n}f.each(i,function(p,o){var q=m[p];m[p]=function(){this[o]=e;return q&&q.apply(m,arguments)};m[o]=d},true);return m};var j=function(m){return m&&(m._mid||(m._mid=a++))};var c={};var k=function(n,o,m,p){return function(u){var r=g[n._mid][o];var v=[];var t=u.target;var q={};for(;t&&t!==document;t=t.parentNode){if(t===n){break}if(~["click","tap","doubletap","longtap","hold"].indexOf(o)&&(t.disabled||t.classList.contains("mui-disabled"))){break}var s={};f.each(r,function(w,x){q[w]||(q[w]=f.qsa(w,n));if(q[w]&&~(q[w]).indexOf(t)){if(!s[w]){s[w]=x}}},true);if(!f.isEmptyObject(s)){v.push({element:t,handlers:s})}}q=null;u=h(u);f.each(v,function(w,y){t=y.element;var x=t.tagName;if(o==="tap"&&(x!=="INPUT"&&x!=="TEXTAREA"&&x!=="SELECT")){u.preventDefault();u.detail&&u.detail.gesture&&u.detail.gesture.preventDefault()}f.each(y.handlers,function(z,A){f.each(A,function(B,C){if(C.call(t,u)===false){u.preventDefault();u.stopPropagation()}},true)},true);if(u.isPropagationStopped()){return false}},true)}};var b=function(o,p){var n=c[j(o)];var m=[];if(n){m=[];if(p){var q=function(r){return r.type===p};return n.filter(q)}else{m=n}}return m};var l=/^(INPUT|TEXTAREA|BUTTON|SELECT)$/;f.fn.on=function(n,m,o){return this.each(function(){var v=this;j(v);j(o);var q=false;var s=g[v._mid]||(g[v._mid]={});var u=s[n]||((s[n]={}));if(f.isEmptyObject(u)){q=true}var t=u[m]||(u[m]=[]);t.push(o);if(q){var r=c[j(v)];if(!r){r=[]}var p=k(v,n,m,o);r.push(p);p.i=r.length-1;p.type=n;c[j(v)]=r;v.addEventListener(n,p);if(n==="tap"){v.addEventListener("click",function(y){if(y.target){var x=y.target.tagName;if(!l.test(x)){if(x==="A"){var w=y.target.href;if(!(w&&~w.indexOf("tel:"))){y.preventDefault()}}else{y.preventDefault()}}}})}}})};f.fn.off=function(n,m,o){return this.each(function(){var q=j(this);if(!n){g[q]&&delete g[q]}else{if(!m){g[q]&&delete g[q][n]}else{if(!o){g[q]&&g[q][n]&&delete g[q][n][m]}else{var p=g[q]&&g[q][n]&&g[q][n][m];f.each(p,function(s,r){if(j(r)===j(o)){p.splice(s,1);return false}},true)}}}if(g[q]){if((!g[q][n]||f.isEmptyObject(g[q][n]))){b(this,n).forEach(function(r){this.removeEventListener(r.type,r);delete c[q][r.i]}.bind(this))}}else{b(this).forEach(function(r){this.removeEventListener(r.type,r);delete c[q][r.i]}.bind(this))}})}})(mui);(function(f,k){f.EVENT_START="touchstart";f.EVENT_MOVE="touchmove";f.EVENT_END="touchend";f.EVENT_CANCEL="touchcancel";f.EVENT_CLICK="click";f.gestures={session:{}};f.preventDefault=function(B){B.preventDefault()};f.stopPropagation=function(B){B.stopPropagation()};f.addGesture=function(B){return f.addAction("gestures",B)};var u=Math.round;var n=Math.abs;var y=Math.sqrt;var h=Math.atan;var d=Math.atan2;var b=function(E,D,C){if(!C){C=["x","y"]}var B=D[C[0]]-E[C[0]];var F=D[C[1]]-E[C[1]];return y((B*B)+(F*F))};var l=function(D,B){if(D.length>=2&&B.length>=2){var C=["pageX","pageY"];return b(B[1],B[0],C)/b(D[1],D[0],C)}return 1};var g=function(E,D,C){if(!C){C=["x","y"]}var B=D[C[0]]-E[C[0]];var F=D[C[1]]-E[C[1]];return d(F,B)*180/Math.PI};var c=function(B,C){if(B===C){return""}if(n(B)>=n(C)){return B>0?"left":"right"}return C>0?"up":"down"};var o=function(D,B){var C=["pageX","pageY"];return g(B[1],B[0],C)-g(D[1],D[0],C)};var i=function(C,B,D){return{x:B/C||0,y:D/C||0}};var w=function(B,C){if(f.gestures.stoped){return}f.doAction("gestures",function(D,E){if(!f.gestures.stoped){if(f.options.gestureConfig[E.name]!==false){E.handle(B,C)}}})};var v=function(C,B){while(C){if(C==B){return true}C=C.parentNode}return false};var e=function(I,F,E){var D=[];var B=[];var C=0;while(C<I.length){var H=F?I[C][F]:I[C];if(B.indexOf(H)<0){D.push(I[C])}B[C]=H;C++}if(E){if(!F){D=D.sort()}else{D=D.sort(function G(K,J){return K[F]>J[F]})}}return D};var j=function(E){var C=E.length;if(C===1){return{x:u(E[0].pageX),y:u(E[0].pageY)}}var B=0;var F=0;var D=0;while(D<C){B+=E[D].pageX;F+=E[D].pageY;D++}return{x:u(B/C),y:u(F/C)}};var r=function(){return f.options.gestureConfig.pinch};var A=function(D){var C=[];var B=0;while(B<D.touches.length){C[B]={pageX:u(D.touches[B].pageX),pageY:u(D.touches[B].pageY)};B++}return{timestamp:f.now(),gesture:D.gesture,touches:C,center:j(D.touches),deltaX:D.deltaX,deltaY:D.deltaY}};var a=function(G){var E=f.gestures.session;var D=G.center;var F=E.offsetDelta||{};var C=E.prevDelta||{};var B=E.prevTouch||{};if(G.gesture.type===f.EVENT_START||G.gesture.type===f.EVENT_END){C=E.prevDelta={x:B.deltaX||0,y:B.deltaY||0};F=E.offsetDelta={x:D.x,y:D.y}}G.deltaX=C.x+(D.x-F.x);G.deltaY=C.y+(D.y-F.y)};var p=function(I){var H=f.gestures.session;var G=I.touches;var D=G.length;if(!H.firstTouch){H.firstTouch=A(I)}if(r()&&D>1&&!H.firstMultiTouch){H.firstMultiTouch=A(I)}else{if(D===1){H.firstMultiTouch=false}}var F=H.firstTouch;var E=H.firstMultiTouch;var C=E?E.center:F.center;var B=I.center=j(G);I.timestamp=f.now();I.deltaTime=I.timestamp-F.timestamp;I.angle=g(C,B);I.distance=b(C,B);a(I);I.offsetDirection=c(I.deltaX,I.deltaY);I.scale=E?l(E.touches,G):1;I.rotation=E?o(E.touches,G):0;q(I)};var t=25;var q=function(E){var G=f.gestures.session;var L=G.lastInterval||E;var F=E.timestamp-L.timestamp;var C;var J;var H;var I;if(E.gesture.type!=f.EVENT_CANCEL&&(F>t||L.velocity===undefined)){var D=L.deltaX-E.deltaX;var B=L.deltaY-E.deltaY;var K=i(F,D,B);J=K.x;H=K.y;C=(n(K.x)>n(K.y))?K.x:K.y;I=c(D,B)||L.direction;G.lastInterval=E}else{C=L.velocity;J=L.velocityX;H=L.velocityY;I=L.direction}E.velocity=C;E.velocityX=J;E.velocityY=H;E.direction=I};var m={};var s=function(B,G){var F=f.slice.call(B.touches||B);var J=B.type;var I=[];var L=[];if((J===f.EVENT_START||J===f.EVENT_MOVE)&&F.length===1){m[F[0].identifier]=true;I=F;L=F;G.target=B.target}else{var H=0;var I=[];var L=[];var K=f.slice.call(B.changedTouches||B);G.target=B.target;var D=f.gestures.session.target||B.target;I=F.filter(function(M){return v(M.target,D)});if(J===f.EVENT_START){H=0;while(H<I.length){m[I[H].identifier]=true;H++}}H=0;while(H<K.length){if(m[K[H].identifier]){L.push(K[H])}if(J===f.EVENT_END||J===f.EVENT_CANCEL){delete m[K[H].identifier]}H++}if(!L.length){return false}}I=e(I.concat(L),"identifier",true);var C=I.length;var E=L.length;if(J===f.EVENT_START&&C-E===0){G.isFirst=true;f.gestures.touch=f.gestures.session={target:B.target}}G.isFinal=((J===f.EVENT_END||J===f.EVENT_CANCEL)&&(C-E===0));G.touches=I;G.changedTouches=L;return true};var x=function(B){var D={gesture:B};var C=s(B,D);if(!C){return}p(D);w(B,D);f.gestures.session.prevTouch=D};k.addEventListener(f.EVENT_START,x);k.addEventListener(f.EVENT_MOVE,x);k.addEventListener(f.EVENT_END,x);k.addEventListener(f.EVENT_CANCEL,x);k.addEventListener(f.EVENT_CLICK,function(B){if((f.os.android||f.os.ios)&&((f.targets.popover&&B.target===f.targets.popover)||(f.targets.tab)||f.targets.offcanvas||f.targets.modal)){B.preventDefault()}},true);f.isScrolling=false;var z=null;k.addEventListener("scroll",function(){f.isScrolling=true;z&&clearTimeout(z);z=setTimeout(function(){f.isScrolling=false},250)})})(mui,window);(function(d,b){var a=0;var c=function(g,i){var h=d.gestures.session;var f=this.options;var e=d.now();switch(g.type){case d.EVENT_MOVE:if(e-a>300){a=e;h.flickStart=i.center}break;case d.EVENT_END:case d.EVENT_CANCEL:i.flick=false;if(h.flickStart&&f.flickMaxTime>(e-a)&&i.distance>f.flickMinDistince){i.flick=true;i.flickTime=e-a;i.flickDistanceX=i.center.x-h.flickStart.x;i.flickDistanceY=i.center.y-h.flickStart.y;d.trigger(h.target,b,i);d.trigger(h.target,b+i.direction,i)}break}};d.addGesture({name:b,index:5,handle:c,options:{flickMaxTime:200,flickMinDistince:10}})})(mui,"flick");(function(c,a){var b=function(e,g){var f=c.gestures.session;if(e.type===c.EVENT_END||e.type===c.EVENT_CANCEL){var d=this.options;g.swipe=false;if(g.direction&&d.swipeMaxTime>g.deltaTime&&g.distance>d.swipeMinDistince){g.swipe=true;c.trigger(f.target,a,g);c.trigger(f.target,a+g.direction,g)}}};c.addGesture({name:a,index:10,handle:b,options:{swipeMaxTime:300,swipeMinDistince:18}})})(mui,"swipe");(function(c,a){var b=function(d,f){var e=c.gestures.session;switch(d.type){case c.EVENT_START:break;case c.EVENT_MOVE:if(!f.direction){return}if(e.lockDirection&&e.startDirection){if(e.startDirection&&e.startDirection!==f.direction){if(e.startDirection==="up"||e.startDirection==="down"){f.direction=f.deltaY<0?"up":"down"}else{f.direction=f.deltaX<0?"left":"right"}}}if(!e.drag){e.drag=true;c.trigger(e.target,a+"start",f)}c.trigger(e.target,a,f);c.trigger(e.target,a+f.direction,f);break;case c.EVENT_END:case c.EVENT_CANCEL:if(e.drag&&f.isFinal){c.trigger(e.target,a+"end",f)}break}};c.addGesture({name:a,index:20,handle:b,options:{fingers:1}})})(mui,"drag");(function(e,b){var c;var a;var d=function(g,j){var i=e.gestures.session;var f=this.options;switch(g.type){case e.EVENT_END:if(!j.isFinal){return}var h=i.target;if(!h||(h.disabled||(h.classList&&h.classList.contains("mui-disabled")))){return}if(j.distance<f.tapMaxDistance&&j.deltaTime<f.tapMaxTime){if(e.options.gestureConfig.doubletap&&c&&(c===h)){if(a&&(j.timestamp-a)<f.tapMaxInterval){e.trigger(h,"doubletap",j);a=e.now();c=h;return}}e.trigger(h,b,j);a=e.now();c=h}break}};e.addGesture({name:b,index:30,handle:d,options:{fingers:1,tapMaxInterval:300,tapMaxDistance:5,tapMaxTime:250}})})(mui,"tap");(function(c,a){var d;var b=function(f,h){var g=c.gestures.session;var e=this.options;switch(f.type){case c.EVENT_START:clearTimeout(d);d=setTimeout(function(){c.trigger(g.target,a,h)},e.holdTimeout);break;case c.EVENT_MOVE:if(h.distance>e.holdThreshold){clearTimeout(d)}break;case c.EVENT_END:case c.EVENT_CANCEL:clearTimeout(d);break}};c.addGesture({name:a,index:10,handle:b,options:{fingers:1,holdTimeout:500,holdThreshold:2}})})(mui,"longtap");(function(c,a){var d;var b=function(f,h){var g=c.gestures.session;var e=this.options;switch(f.type){case c.EVENT_START:if(c.options.gestureConfig.hold){d&&clearTimeout(d);d=setTimeout(function(){h.hold=true;c.trigger(g.target,a,h)},e.holdTimeout)}break;case c.EVENT_MOVE:break;case c.EVENT_END:case c.EVENT_CANCEL:if(d){clearTimeout(d)&&(d=null);c.trigger(g.target,"release",h)}break}};c.addGesture({name:a,index:10,handle:b,options:{fingers:1,holdTimeout:0}})})(mui,"hold");(function(c,a){var b=function(h,k){var d=this.options;var i=c.gestures.session;switch(h.type){case c.EVENT_START:break;case c.EVENT_MOVE:if(c.options.gestureConfig.pinch){if(k.touches.length<2){return}if(!i.pinch){i.pinch=true;c.trigger(i.target,a+"start",k)}c.trigger(i.target,a,k);var j=k.scale;var f=k.rotation;var g=typeof k.lastScale==="undefined"?1:k.lastScale;var e=1e-12;if(j>g){g=j-e;c.trigger(i.target,a+"out",k)}else{if(j<g){g=j+e;c.trigger(i.target,a+"in",k)}}if(Math.abs(f)>d.minRotationAngle){c.trigger(i.target,"rotate",k)}}break;case c.EVENT_END:case c.EVENT_CANCEL:if(c.options.gestureConfig.pinch&&i.pinch&&k.touches.length===2){i.pinch=false;c.trigger(i.target,a+"end",k)}break}};c.addGesture({name:a,index:10,handle:b,options:{minRotationAngle:0}})})(mui,"pinch");(function(e){e.global=e.options={gestureConfig:{tap:true,doubletap:false,longtap:false,hold:false,flick:true,swipe:true,drag:true,pinch:false}};e.initGlobal=function(f){e.options=e.extend(true,e.global,f);return this};var d={};var c=false;e.init=function(f){c=true;e.options=e.extend(true,e.global,f||{});e.ready(function(){e.doAction("inits",function(g,h){var i=!!(!d[h.name]||h.repeat);if(i){h.handle.call(e);d[h.name]=true}})});return this};e.addInit=function(f){return e.addAction("inits",f)};e.addInit({name:"iframe",index:100,handle:function(){var f=e.options;var g=f.subpages||[];if(!e.os.plus&&g.length){a(g[0])}}});var a=function(f){var i=document.createElement("div");i.className="mui-iframe-wrapper";var h=f.styles||{};if(typeof h.top!=="string"){h.top="0px"}if(typeof h.bottom!=="string"){h.bottom="0px"}i.style.top=h.top;i.style.bottom=h.bottom;var g=document.createElement("iframe");g.src=f.url;g.id=f.id||f.url;g.name=g.id;i.appendChild(g);document.body.appendChild(i);e.os.wechat&&b(i,g)};function b(i,g){var f="MUI_SCROLL_POSITION_"+document.location.href+"_"+g.src;var h=(parseFloat(localStorage.getItem(f))||0);if(h){(function(j){g.onload=function(){window.scrollTo(0,j)}})(h)}setInterval(function(){var j=window.scrollY;if(h!==j){localStorage.setItem(f,j+"");h=j}},100)}e(function(){var g=document.body.classList;var f=[];if(e.os.ios){f.push({os:"ios",version:e.os.version});g.add("mui-ios")}else{if(e.os.android){f.push({os:"android",version:e.os.version});g.add("mui-android")}}if(e.os.wechat){f.push({os:"wechat",version:e.os.wechat.version});g.add("mui-wechat")}if(f.length){e.each(f,function(j,k){var i="";var h=[];if(k.version){e.each(k.version.split("."),function(m,l){i=i+(i?"-":"")+l;g.add(e.className(k.os+"-"+i))})}})}})})(mui);(function(d){var a={swipeBack:false,preloadPages:[],preloadLimit:10,keyEventBind:{backbutton:true,menubutton:true}};var c={autoShow:true,duration:d.os.ios?200:100,aniShow:"slide-in-right"};if(d.options.show){c=d.extend(true,c,d.options.show)}d.currentWebview=null;d.isHomePage=false;d.extend(true,d.global,a);d.extend(true,d.options,a);d.waitingOptions=function(f){return d.extend(true,{},{autoShow:true,title:""},f)};d.showOptions=function(f){return d.extend(true,{},c,f)};d.windowOptions=function(f){return d.extend({scalable:false,bounce:""},f)};d.plusReady=function(f){if(window.plus){setTimeout(function(){f()},0)}else{document.addEventListener("plusready",function(){f()},false)}return this};d.fire=function(f,g,h){if(f){if(h!==""){h=h||{};if(d.isPlainObject(h)){h=JSON.stringify(h||{}).replace(/\'/g,"\\u0027").replace(/\\/g,"\\u005c")}}f.evalJS("typeof mui!=='undefined'&&mui.receive('"+g+"','"+h+"')")}};d.receive=function(f,g){if(f){try{if(g){g=JSON.parse(g)}}catch(h){}d.trigger(document,f,g)}};var e=function(f){if(!f.preloaded){d.fire(f,"preload");var h=f.children();for(var g=0;g<h.length;g++){d.fire(h[g],"preload")}f.preloaded=true}};var b=function(f,h,k){if(k){if(!f[h+"ed"]){d.fire(f,h);var j=f.children();for(var g=0;g<j.length;g++){d.fire(j[g],h)}f[h+"ed"]=true}}else{d.fire(f,h);var j=f.children();for(var g=0;g<j.length;g++){d.fire(j[g],h)}}};d.openWindow=function(f,g,n){if(typeof f==="object"){n=f;f=n.url;g=n.id||f}else{if(typeof g==="object"){n=g;g=f}else{g=g||f}}if(!d.os.plus){window.top.location.href=f;return}if(!window.plus){return}n=n||{};var h=n.params||{};var l=null,i=null,k,m;if(d.webviews[g]){i=d.webviews[g];if(plus.webview.getWebviewById(g)){l=i.webview}}if(i&&l){k=i.show;k=n.show?d.extend(k,n.show):k;l.show(k.aniShow,k.duration,function(){e(l);b(l,"pagebeforeshow",false)});i.afterShowMethodName&&l.evalJS(i.afterShowMethodName+"('"+JSON.stringify(h)+"')");return l}else{if(n.createNew!==true){l=plus.webview.getWebviewById(g);if(l){k=d.showOptions(n.show);l.show(k.aniShow,k.duration,function(){e(l);b(l,"pagebeforeshow",false)});return l}}var j=d.waitingOptions(n.waiting);if(j.autoShow){m=plus.nativeUI.showWaiting(j.title,j.options)}n=d.extend(n,{id:g,url:f});l=d.createWindow(n);k=d.showOptions(n.show);if(k.autoShow){l.addEventListener("loaded",function(){if(m){m.close()}l.show(k.aniShow,k.duration,function(){e(l);b(l,"pagebeforeshow",false)});l.showed=true;n.afterShowMethodName&&l.evalJS(n.afterShowMethodName+"('"+JSON.stringify(h)+"')")},false)}}return l};d.createWindow=function(i,g){if(!window.plus){return}var m=i.id||i.url;var f;if(i.preload){if(d.webviews[m]&&d.webviews[m].webview.getURL()){f=d.webviews[m].webview}else{if(i.createNew!==true){f=plus.webview.getWebviewById(m)}if(!f){f=plus.webview.create(i.url,m,d.windowOptions(i.styles),d.extend({preload:true},i.extras));if(i.subpages){d.each(i.subpages,function(o,n){var p=plus.webview.create(n.url,n.id||n.url,d.windowOptions(n.styles),d.extend({preload:true},n.extras));f.append(p)})}}}d.webviews[m]={webview:f,preload:true,show:d.showOptions(i.show),afterShowMethodName:i.afterShowMethodName};var k=d.data.preloads;var h=k.indexOf(m);if(~h){k.splice(h,1)}k.push(m);if(k.length>d.options.preloadLimit){var l=d.data.preloads.shift();var j=d.webviews[l];if(j&&j.webview){d.closeAll(j.webview)}delete d.webviews[l]}}else{if(g!==false){f=plus.webview.create(i.url,m,d.windowOptions(i.styles),i.extras);if(i.subpages){d.each(i.subpages,function(o,n){var p=plus.webview.create(n.url,n.id||n.url,d.windowOptions(n.styles),n.extras);f.append(p)})}}}return f};d.preload=function(f){if(!f.preload){f.preload=true}return d.createWindow(f)};d.closeOpened=function(g){var l=g.opened();if(l){for(var h=0,f=l.length;h<f;h++){var k=l[h];var j=k.opened();if(j&&j.length>0){d.closeOpened(k)}else{if(k.parent()!==g){k.close("none")}}}}};d.closeAll=function(f,g){d.closeOpened(f);if(g){f.close(g)}else{f.close()}};d.createWindows=function(f){d.each(f,function(g,h){d.createWindow(h,false)})};d.appendWebview=function(g){if(!window.plus){return}var h=g.id||g.url;var f;if(!d.webviews[h]){f=plus.webview.create(g.url,h,g.styles,g.extras);plus.webview.currentWebview().append(f);d.webviews[h]=g}return f};d.webviews={};d.data.preloads=[];d.plusReady(function(){d.currentWebview=plus.webview.currentWebview()});d.addInit({name:"5+",index:100,handle:function(){var f=d.options;var g=f.subpages||[];if(d.os.plus){d.plusReady(function(){d.each(g,function(i,h){d.appendWebview(h)});if(plus.webview.currentWebview()===plus.webview.getWebviewById(plus.runtime.appid)){d.isHomePage=true;setTimeout(function(){e(plus.webview.currentWebview())},300)}if(d.os.ios&&d.options.statusBarBackground){plus.navigator.setStatusBarBackground(d.options.statusBarBackground)}if(d.os.android&&parseFloat(d.os.version)<4.4){if(plus.webview.currentWebview().parent()==null){document.addEventListener("resume",function(){var h=document.body;h.style.display="none";setTimeout(function(){h.style.display=""},10)})}}})}else{}}});window.addEventListener("preload",function(){var f=d.options.preloadPages||[];d.plusReady(function(){d.each(f,function(h,g){d.createWindow(d.extend(g,{preload:true}))})})});d.supportStatusbarOffset=function(){return d.os.plus&&d.os.ios&&parseFloat(d.os.version)>=7};d.ready(function(){if(d.supportStatusbarOffset()){document.body.classList.add("mui-statusbar")}})})(mui);(function(b,a){b.addBack=function(c){return b.addAction("backs",c)};b.addBack({name:"browser",index:100,handle:function(){if(a.history.length>1){a.history.back();return true}return false}});b.back=function(){if(typeof b.options.beforeback==="function"){if(b.options.beforeback()===false){return}}b.doAction("backs")};a.addEventListener("tap",function(d){var c=b.targets.action;if(c&&c.classList.contains("mui-action-back")){b.back();b.targets.action=false}});a.addEventListener("swiperight",function(d){var c=d.detail;if(b.options.swipeBack===true&&Math.abs(c.angle)<3){b.back()}})})(mui,window);(function(d,c){if(d.os.plus&&d.os.android){d.addBack({name:"mui",index:5,handle:function(){if(d.targets._popover&&d.targets._popover.classList.contains("mui-active")){d(d.targets._popover).popover("hide");return true}var f=document.querySelector(".mui-off-canvas-wrap.mui-active");if(f){d(f).offCanvas("close");return true}var e=d.isFunction(d.getPreviewImage)&&d.getPreviewImage();if(e&&e.isShown()){e.close();return true}}})}d.addBack({name:"5+",index:10,handle:function(){if(!c.plus){return false}var e=plus.webview.currentWebview();var f=e.parent();if(f){f.evalJS("mui&&mui.back();")}else{e.canBack(function(g){if(g.canBack){c.history.back()}else{if(e.id===plus.runtime.appid){}else{if(e.preload){e.hide("auto")}else{d.closeAll(e)}}}})}return true}});d.menu=function(){var g=document.querySelector(".mui-action-menu");if(g){d.trigger(g,"touchstart");d.trigger(g,"tap")}else{if(c.plus){var e=d.currentWebview;var f=e.parent();if(f){f.evalJS("mui&&mui.menu();")}}}};var b=function(){d.back()};var a=function(){d.menu()};d.plusReady(function(){if(d.options.keyEventBind.backbutton){plus.key.addEventListener("backbutton",b,false)}if(d.options.keyEventBind.menubutton){plus.key.addEventListener("menubutton",a,false)}});d.addInit({name:"keyEventBind",index:1000,handle:function(){d.plusReady(function(){if(!d.options.keyEventBind.backbutton){plus.key.removeEventListener("backbutton",b)}if(!d.options.keyEventBind.menubutton){plus.key.removeEventListener("menubutton",a)}})}})})(mui,window);(function(a){a.addInit({name:"pullrefresh",index:1000,handle:function(){var d=a.options;var e=d.pullRefresh||{};var c=e.down&&e.down.hasOwnProperty("callback");var f=e.up&&e.up.hasOwnProperty("callback");if(c||f){var b=e.container;if(b){var g=a(b);if(g.length===1){if(false){a.plusReady(function(){var h=plus.webview.currentWebview();if(f){var l={};l.up=e.up;l.webviewId=h.id||h.getURL();g.pullRefresh(l)}if(c){var j=h.parent();var k=h.id||h.getURL();if(j){if(!f){g.pullRefresh({webviewId:k})}var i={webviewId:k};i.down=a.extend({},e.down);i.down.callback="_CALLBACK";j.evalJS("mui&&mui(document.querySelector('.mui-scroll-wrapper')).pullRefresh('"+JSON.stringify(i)+"')")}}})}else{g.pullRefresh(e)}}}}}})})(mui);(function($,window,undefined){var jsonType="application/json";var htmlType="text/html";var rscript=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi;var scriptTypeRE=/^(?:text|application)\/javascript/i;var xmlTypeRE=/^(?:text|application)\/xml/i;var blankRE=/^\s*$/;$.ajaxSettings={type:"GET",beforeSend:$.noop,success:$.noop,error:$.noop,complete:$.noop,context:null,xhr:function(protocol){return new window.XMLHttpRequest()},accepts:{script:"text/javascript, application/javascript, application/x-javascript",json:jsonType,xml:"application/xml, text/xml",html:htmlType,text:"text/plain"},timeout:0,processData:true,cache:true};var ajaxBeforeSend=function(xhr,settings){var context=settings.context;if(settings.beforeSend.call(context,xhr,settings)===false){return false}};var ajaxSuccess=function(data,xhr,settings){settings.success.call(settings.context,data,"success",xhr);ajaxComplete("success",xhr,settings)};var ajaxError=function(error,type,xhr,settings){settings.error.call(settings.context,xhr,type,error);ajaxComplete(type,xhr,settings)};var ajaxComplete=function(status,xhr,settings){settings.complete.call(settings.context,xhr,status)};var serialize=function(params,obj,traditional,scope){var type,array=$.isArray(obj),hash=$.isPlainObject(obj);$.each(obj,function(key,value){type=$.type(value);if(scope){key=traditional?scope:scope+"["+(hash||type==="object"||type==="array"?key:"")+"]"}if(!scope&&array){params.add(value.name,value.value)}else{if(type==="array"||(!traditional&&type==="object")){serialize(params,value,traditional,key)}else{params.add(key,value)}}})};var serializeData=function(options){if(options.processData&&options.data&&typeof options.data!=="string"){options.data=$.param(options.data,options.traditional)}if(options.data&&(!options.type||options.type.toUpperCase()==="GET")){options.url=appendQuery(options.url,options.data);options.data=undefined}};var appendQuery=function(url,query){if(query===""){return url}return(url+"&"+query).replace(/[&?]{1,2}/,"?")};var mimeToDataType=function(mime){if(mime){mime=mime.split(";",2)[0]}return mime&&(mime===htmlType?"html":mime===jsonType?"json":scriptTypeRE.test(mime)?"script":xmlTypeRE.test(mime)&&"xml")||"text"};var parseArguments=function(url,data,success,dataType){if($.isFunction(data)){dataType=success,success=data,data=undefined}if(!$.isFunction(success)){dataType=success,success=undefined}return{url:url,data:data,success:success,dataType:dataType}};$.ajax=function(url,options){if(typeof url==="object"){options=url;url=undefined}var settings=options||{};settings.url=url||settings.url;for(var key in $.ajaxSettings){if(settings[key]===undefined){settings[key]=$.ajaxSettings[key]}}serializeData(settings);var dataType=settings.dataType;if(settings.cache===false||((!options||options.cache!==true)&&("script"===dataType))){settings.url=appendQuery(settings.url,"_="+$.now())}var mime=settings.accepts[dataType.toLowerCase()];var headers={};var setHeader=function(name,value){headers[name.toLowerCase()]=[name,value]};var protocol=/^([\w-]+:)\/\//.test(settings.url)?RegExp.$1:window.location.protocol;var xhr=settings.xhr(settings);var nativeSetHeader=xhr.setRequestHeader;var abortTimeout;setHeader("X-Requested-With","XMLHttpRequest");setHeader("Accept",mime||"*/*");if(!!(mime=settings.mimeType||mime)){if(mime.indexOf(",")>-1){mime=mime.split(",",2)[0]}xhr.overrideMimeType&&xhr.overrideMimeType(mime)}if(settings.contentType||(settings.contentType!==false&&settings.data&&settings.type.toUpperCase()!=="GET")){setHeader("Content-Type",settings.contentType||"application/x-www-form-urlencoded")}if(settings.headers){for(var name in settings.headers){setHeader(name,settings.headers[name])}}xhr.setRequestHeader=setHeader;xhr.onreadystatechange=function(){if(xhr.readyState===4){xhr.onreadystatechange=$.noop;clearTimeout(abortTimeout);var result,error=false;var isLocal=protocol==="file:";if((xhr.status>=200&&xhr.status<300)||xhr.status===304||(xhr.status===0&&isLocal&&xhr.responseText)){dataType=dataType||mimeToDataType(settings.mimeType||xhr.getResponseHeader("content-type"));result=xhr.responseText;try{if(dataType==="script"){(1,eval)(result)}else{if(dataType==="xml"){result=xhr.responseXML}else{if(dataType==="json"){result=blankRE.test(result)?null:$.parseJSON(result)}}}}catch(e){error=e}if(error){ajaxError(error,"parsererror",xhr,settings)}else{ajaxSuccess(result,xhr,settings)}}else{var status=xhr.status?"error":"abort";var statusText=xhr.statusText||null;if(isLocal){status="error";statusText="404"}ajaxError(statusText,status,xhr,settings)}}};if(ajaxBeforeSend(xhr,settings)===false){xhr.abort();ajaxError(null,"abort",xhr,settings);return xhr}if(settings.xhrFields){for(var name in settings.xhrFields){xhr[name]=settings.xhrFields[name]}}var async="async" in settings?settings.async:true;xhr.open(settings.type.toUpperCase(),settings.url,async,settings.username,settings.password);for(var name in headers){nativeSetHeader.apply(xhr,headers[name])}if(settings.timeout>0){abortTimeout=setTimeout(function(){xhr.onreadystatechange=$.noop;xhr.abort();ajaxError(null,"timeout",xhr,settings)},settings.timeout)}xhr.send(settings.data?settings.data:null);return xhr};$.param=function(obj,traditional){var params=[];params.add=function(k,v){this.push(encodeURIComponent(k)+"="+encodeURIComponent(v))};serialize(params,obj,traditional);return params.join("&").replace(/%20/g,"+")};$.get=function(){return $.ajax(parseArguments.apply(null,arguments))};$.post=function(){var options=parseArguments.apply(null,arguments);options.type="POST";return $.ajax(options)};$.getJSON=function(){var options=parseArguments.apply(null,arguments);options.dataType="json";return $.ajax(options)};$.fn.load=function(url,data,success){if(!this.length){return this}var self=this,parts=url.split(/\s/),selector,options=parseArguments(url,data,success),callback=options.success;if(parts.length>1){options.url=parts[0],selector=parts[1]}options.success=function(response){if(selector){var div=document.createElement("div");div.innerHTML=response.replace(rscript,"");var selectorDiv=document.createElement("div");var childs=div.querySelectorAll(selector);if(childs&&childs.length>0){for(var i=0,len=childs.length;i<len;i++){selectorDiv.appendChild(childs[i])}}self[0].innerHTML=selectorDiv.innerHTML}else{self[0].innerHTML=response}callback&&callback.apply(self,arguments)};$.ajax(options);return this}})(mui,window);(function(b){var a=document.createElement("a");a.href=window.location.href;b.plusReady(function(){b.ajaxSettings=b.extend(b.ajaxSettings,{xhr:function(c){if(c.crossDomain){return new plus.net.XMLHttpRequest()}if(a.protocol!=="file:"){var d=document.createElement("a");d.href=c.url;d.href=d.href;c.crossDomain=(a.protocol+"//"+a.host)!==(d.protocol+"//"+d.host);if(c.crossDomain){return new plus.net.XMLHttpRequest()}}return new window.XMLHttpRequest()}})})})(mui);(function(b,a,c){b.offset=function(d){var e={top:0,left:0};if(typeof d.getBoundingClientRect!==c){e=d.getBoundingClientRect()}return{top:e.top+a.pageYOffset-d.clientTop,left:e.left+a.pageXOffset-d.clientLeft}}})(mui,window);(function(b,a){b.scrollTo=function(e,d,f){d=d||1000;var c=function(h){if(h<=0){a.scrollTo(0,e);f&&f();return}var g=e-a.scrollY;setTimeout(function(){a.scrollTo(0,a.scrollY+g/h*10);c(h-10)},16.7)};c(d)};b.animationFrame=function(c){var d,f,e;return function(){d=arguments;e=this;if(!f){f=true;requestAnimationFrame(function(){c.apply(e,d);f=false})}}}})(mui,window);(function(d){var b=false,c=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/;var a=function(){};a.extend=function(i){var h=this.prototype;b=true;var g=new this();b=false;for(var f in i){g[f]=typeof i[f]=="function"&&typeof h[f]=="function"&&c.test(i[f])?(function(j,k){return function(){var m=this._super;this._super=h[j];var l=k.apply(this,arguments);this._super=m;return l}})(f,i[f]):i[f]}function e(){if(!b&&this.init){this.init.apply(this,arguments)}}e.prototype=g;e.prototype.constructor=e;e.extend=arguments.callee;return e};d.Class=a})(mui);(function(d,l,g){var h="mui-pull-top-pocket";var b="mui-pull-bottom-pocket";var u="mui-pull";var c="mui-pull-loading";var s="mui-pull-caption";var a="mui-pull-caption-down";var v="mui-pull-caption-refresh";var i="mui-pull-caption-nomore";var t="mui-icon";var m="mui-spinner";var p="mui-icon-pulldown";var q="mui-block";var n="mui-hidden";var o="mui-visibility";var f=c+" "+t+" "+p;var e=c+" "+t+" "+p;var j=c+" "+t+" "+m;var r=['<div class="'+u+'">','<div class="{icon}"></div>','<div class="'+s+'">{contentrefresh}</div>',"</div>"].join("");var k={init:function(x,w){this._super(x,d.extend(true,{scrollY:true,scrollX:false,indicators:true,deceleration:0.003,down:{height:50,contentinit:"下拉可以刷新",contentdown:"下拉可以刷新",contentover:"释放立即刷新",contentrefresh:"正在刷新..."},up:{height:50,auto:false,contentinit:"上拉显示更多",contentdown:"上拉显示更多",contentrefresh:"正在加载...",contentnomore:"没有更多数据了",duration:300}},w))},_init:function(){this._super();this._initPocket()},_initPulldownRefresh:function(){this.pulldown=true;this.pullPocket=this.topPocket;this.pullPocket.classList.add(q);this.pullPocket.classList.add(o);this.pullCaption=this.topCaption;this.pullLoading=this.topLoading},_initPullupRefresh:function(){this.pulldown=false;this.pullPocket=this.bottomPocket;this.pullPocket.classList.add(q);this.pullPocket.classList.add(o);this.pullCaption=this.bottomCaption;this.pullLoading=this.bottomLoading},_initPocket:function(){var w=this.options;if(w.down&&w.down.hasOwnProperty("callback")){this.topPocket=this.scroller.querySelector("."+h);if(!this.topPocket){this.topPocket=this._createPocket(h,w.down,e);this.wrapper.insertBefore(this.topPocket,this.wrapper.firstChild)}this.topLoading=this.topPocket.querySelector("."+c);this.topCaption=this.topPocket.querySelector("."+s)}if(w.up&&w.up.hasOwnProperty("callback")){this.bottomPocket=this.scroller.querySelector("."+b);if(!this.bottomPocket){this.bottomPocket=this._createPocket(b,w.up,j);this.scroller.appendChild(this.bottomPocket)}this.bottomLoading=this.bottomPocket.querySelector("."+c);this.bottomCaption=this.bottomPocket.querySelector("."+s);this.wrapper.addEventListener("scrollbottom",this)}},_createPocket:function(y,x,w){var z=l.createElement("div");z.className=y;z.innerHTML=r.replace("{contentrefresh}",x.contentinit).replace("{icon}",w);return z},_resetPullDownLoading:function(){var w=this.pullLoading;if(w){this.pullCaption.innerHTML=this.options.down.contentdown;w.style.webkitTransition="";w.style.webkitTransform="";w.style.webkitAnimation="";w.className=e}},_setCaptionClass:function(x,w,y){if(!x){switch(y){case this.options.up.contentdown:w.className=s+" "+a;break;case this.options.up.contentrefresh:w.className=s+" "+v;break;case this.options.up.contentnomore:w.className=s+" "+i;break}}},_setCaption:function(C,B){if(this.loading){return}var z=this.options;var A=this.pullPocket;var y=this.pullCaption;var D=this.pullLoading;var x=this.pulldown;var w=this;if(A){if(B){setTimeout(function(){y.innerHTML=w.lastTitle=C;if(x){D.className=e}else{w._setCaptionClass(false,y,C);D.className=j}D.style.webkitAnimation="";D.style.webkitTransition="";D.style.webkitTransform=""},100)}else{if(C!==this.lastTitle){y.innerHTML=C;if(x){if(C===z.down.contentrefresh){D.className=j;D.style.webkitAnimation="spinner-spin 1s step-end infinite"}else{if(C===z.down.contentover){D.className=f;D.style.webkitTransition="-webkit-transform 0.3s ease-in";D.style.webkitTransform="rotate(180deg)"}else{if(C===z.down.contentdown){D.className=e;D.style.webkitTransition="-webkit-transform 0.3s ease-in";D.style.webkitTransform="rotate(0deg)"}}}}else{if(C===z.up.contentrefresh){D.className=j+" "+o}else{D.className=j+" "+n}w._setCaptionClass(false,y,C)}this.lastTitle=C}}}}};d.PullRefresh=k})(mui,document);(function(e,g,j,b){var f="mui-scrollbar";var h="mui-scrollbar-indicator";var i=f+"-vertical";var d=f+"-horizontal";var k="mui-active";var c={quadratic:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(m){return m*(2-m)}},circular:{style:"cubic-bezier(0.1, 0.57, 0.1, 1)",fn:function(m){return Math.sqrt(1-(--m*m))}},outCirc:{style:"cubic-bezier(0.075, 0.82, 0.165, 1)"},outCubic:{style:"cubic-bezier(0.165, 0.84, 0.44, 1)"}};var a=e.Class.extend({init:function(n,m){this.wrapper=this.element=n;this.scroller=this.wrapper.children[0];this.scrollerStyle=this.scroller&&this.scroller.style;this.stopped=false;this.options=e.extend(true,{scrollY:true,scrollX:false,startX:0,startY:0,indicators:true,stopPropagation:false,hardwareAccelerated:true,fixedBadAndorid:false,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT|VIDEO)$/},momentum:true,snapX:0.5,snap:false,bounce:true,bounceTime:500,bounceEasing:c.outCirc,scrollTime:500,scrollEasing:c.outCubic,directionLockThreshold:5,parallaxElement:false,parallaxRatio:0.5},m);this.x=0;this.y=0;this.translateZ=this.options.hardwareAccelerated?" translateZ(0)":"";this._init();if(this.scroller){this.refresh();this.scrollTo(this.options.startX,this.options.startY)}},_init:function(){this._initParallax();this._initIndicators();this._initEvent()},_initParallax:function(){if(this.options.parallaxElement){this.parallaxElement=j.querySelector(this.options.parallaxElement);this.parallaxStyle=this.parallaxElement.style;this.parallaxHeight=this.parallaxElement.offsetHeight;this.parallaxImgStyle=this.parallaxElement.querySelector("img").style}},_initIndicators:function(){var n=this;n.indicators=[];if(!this.options.indicators){return}var p=[],m;if(n.options.scrollY){m={el:this._createScrollBar(i),listenX:false};this.wrapper.appendChild(m.el);p.push(m)}if(this.options.scrollX){m={el:this._createScrollBar(d),listenY:false};this.wrapper.appendChild(m.el);p.push(m)}for(var o=p.length;o--;){this.indicators.push(new l(this,p[o]))}},_initSnap:function(){this.currentPage={};this.pages=[];var w=this.snaps;var o=w.length;var s=0;var p=-1;var A=0;var r=0;var u=0;var z=0;for(var v=0;v<o;v++){var t=w[v];var q=t.offsetLeft;var y=t.offsetWidth;if(v===0||q<=w[v-1].offsetLeft){s=0;p++}if(!this.pages[s]){this.pages[s]=[]}A=this._getSnapX(q);z=Math.round((y)*this.options.snapX);r=A-z;u=A-y+z;this.pages[s][p]={x:A,leftX:r,rightX:u,pageX:s,element:t};if(t.classList.contains(k)){this.currentPage=this.pages[s][0]}if(A>=this.maxScrollX){s++}}this.options.startX=this.currentPage.x||0},_getSnapX:function(m){return Math.max(Math.min(0,-m+(this.wrapperWidth/2)),this.maxScrollX)},_gotoPage:function(n){this.currentPage=this.pages[Math.min(n,this.pages.length-1)][0];for(var o=0,m=this.snaps.length;o<m;o++){if(o===n){this.snaps[o].classList.add(k)}else{this.snaps[o].classList.remove(k)}}this.scrollTo(this.currentPage.x,0,this.options.scrollTime)},_nearestSnap:function(m){if(!this.pages.length){return{x:0,pageX:0}}var o=0;var p=this.pages.length;if(m>0){m=0}else{if(m<this.maxScrollX){m=this.maxScrollX}}for(;o<p;o++){var n=this.direction==="left"?this.pages[o][0].leftX:this.pages[o][0].rightX;if(m>=n){return this.pages[o][0]}}return{x:0,pageX:0}},_initEvent:function(o){var n=o?"removeEventListener":"addEventListener";g[n]("orientationchange",this);g[n]("resize",this);this.scroller[n]("webkitTransitionEnd",this);this.wrapper[n]("touchstart",this);this.wrapper[n]("touchcancel",this);this.wrapper[n]("touchend",this);this.wrapper[n]("drag",this);this.wrapper[n]("dragend",this);this.wrapper[n]("flick",this);this.wrapper[n]("scrollend",this);if(this.options.scrollX){this.wrapper[n]("swiperight",this)}var m=this.wrapper.querySelector(".mui-segmented-control");if(m){mui(m)[o?"off":"on"]("click","a",e.preventDefault)}this.wrapper[n]("scrollend",this._handleIndicatorScrollend.bind(this));this.wrapper[n]("scrollstart",this._handleIndicatorScrollstart.bind(this));this.wrapper[n]("refresh",this._handleIndicatorRefresh.bind(this))},_handleIndicatorScrollend:function(){this.indicators.map(function(m){m.fade()})},_handleIndicatorScrollstart:function(){this.indicators.map(function(m){m.fade(1)})},_handleIndicatorRefresh:function(){this.indicators.map(function(m){m.refresh()})},handleEvent:function(m){if(this.stopped){this.resetPosition();return}switch(m.type){case"touchstart":this._start(m);break;case"drag":this.options.stopPropagation&&m.stopPropagation();this._drag(m);break;case"dragend":case"flick":this.options.stopPropagation&&m.stopPropagation();this._flick(m);break;case"touchcancel":case"touchend":this._end(m);break;case"webkitTransitionEnd":this.transitionTimer&&this.transitionTimer.cancel();this._transitionEnd(m);break;case"scrollend":this._scrollend(m);m.stopPropagation();break;case"orientationchange":case"resize":this._resize();break;case"swiperight":m.stopPropagation();break}},_start:function(m){this.moved=this.needReset=false;this._transitionTime();if(this.isInTransition){this.needReset=true;this.isInTransition=false;var n=e.parseTranslateMatrix(e.getStyles(this.scroller,"webkitTransform"));this.setTranslate(Math.round(n.x),Math.round(n.y));e.trigger(this.scroller,"scrollend",this);m.preventDefault()}this.reLayout();e.trigger(this.scroller,"beforescrollstart",this)},_getDirectionByAngle:function(m){if(m<-80&&m>-100){return"up"}else{if(m>=80&&m<100){return"down"}else{if(m>=170||m<=-170){return"left"}else{if(m>=-35&&m<=10){return"right"}}}}return null},_drag:function(t){var s=t.detail;if(this.options.scrollY||s.direction==="up"||s.direction==="down"){if(e.os.ios&&parseFloat(e.os.version)>=8){var n=s.gesture.touches[0].clientY;if((n+10)>g.innerHeight||n<10){this.resetPosition(this.options.bounceTime);return}}}var u=isReturn=false;var v=this._getDirectionByAngle(s.angle);if(s.direction==="left"||s.direction==="right"){if(this.options.scrollX){u=true;if(!this.moved){e.gestures.session.lockDirection=true;e.gestures.session.startDirection=s.direction}}else{if(this.options.scrollY&&!this.moved){isReturn=true}}}else{if(s.direction==="up"||s.direction==="down"){if(this.options.scrollY){u=true;if(!this.moved){e.gestures.session.lockDirection=true;e.gestures.session.startDirection=s.direction}}else{if(this.options.scrollX&&!this.moved){isReturn=true}}}else{isReturn=true}}if(this.moved||u){t.stopPropagation();s.gesture&&s.gesture.preventDefault()}if(isReturn){return}if(!this.moved){e.trigger(this.scroller,"scrollstart",this)}else{t.stopPropagation()}var r=0;var q=0;if(!this.moved){r=s.deltaX;q=s.deltaY}else{r=s.deltaX-e.gestures.session.prevTouch.deltaX;q=s.deltaY-e.gestures.session.prevTouch.deltaY}var p=Math.abs(s.deltaX);var o=Math.abs(s.deltaY);if(p>o+this.options.directionLockThreshold){q=0}else{if(o>=p+this.options.directionLockThreshold){r=0}}r=this.hasHorizontalScroll?r:0;q=this.hasVerticalScroll?q:0;var m=this.x+r;var w=this.y+q;if(m>0||m<this.maxScrollX){m=this.options.bounce?this.x+r/3:m>0?0:this.maxScrollX}if(w>0||w<this.maxScrollY){w=this.options.bounce?this.y+q/3:w>0?0:this.maxScrollY}if(!this.requestAnimationFrame){this._updateTranslate()}this.direction=s.deltaX>0?"right":"left";this.moved=true;this.x=m;this.y=w;e.trigger(this.scroller,"scroll",this)},_flick:function(p){if(!this.moved){return}p.stopPropagation();var m=p.detail;this._clearRequestAnimationFrame();if(p.type==="dragend"&&m.flick){return}var q=Math.round(this.x);var o=Math.round(this.y);this.isInTransition=false;if(this.resetPosition(this.options.bounceTime)){return}this.scrollTo(q,o);if(p.type==="dragend"){e.trigger(this.scroller,"scrollend",this);return}var n=0;var r="";if(this.options.momentum&&m.flickTime<300){momentumX=this.hasHorizontalScroll?this._momentum(this.x,m.flickDistanceX,m.flickTime,this.maxScrollX,this.options.bounce?this.wrapperWidth:0,this.options.deceleration):{destination:q,duration:0};momentumY=this.hasVerticalScroll?this._momentum(this.y,m.flickDistanceY,m.flickTime,this.maxScrollY,this.options.bounce?this.wrapperHeight:0,this.options.deceleration):{destination:o,duration:0};q=momentumX.destination;o=momentumY.destination;n=Math.max(momentumX.duration,momentumY.duration);this.isInTransition=true}if(q!=this.x||o!=this.y){if(q>0||q<this.maxScrollX||o>0||o<this.maxScrollY){r=c.quadratic}this.scrollTo(q,o,n,r);return}e.trigger(this.scroller,"scrollend",this)},_end:function(m){this.needReset=false;if((!this.moved&&this.needReset)||m.type==="touchcancel"){this.resetPosition()}},_transitionEnd:function(m){if(m.target!=this.scroller||!this.isInTransition){return}this._transitionTime();if(!this.resetPosition(this.options.bounceTime)){this.isInTransition=false;e.trigger(this.scroller,"scrollend",this)}},_scrollend:function(m){if(Math.abs(this.y)>0&&this.y<=this.maxScrollY){e.trigger(this.scroller,"scrollbottom",this)}},_resize:function(){var m=this;clearTimeout(m.resizeTimeout);m.resizeTimeout=setTimeout(function(){m.refresh()},m.options.resizePolling)},_transitionTime:function(n){n=n||0;this.scrollerStyle.webkitTransitionDuration=n+"ms";if(this.parallaxElement&&this.options.scrollY){this.parallaxStyle.webkitTransitionDuration=n+"ms"}if(this.options.fixedBadAndorid&&!n&&e.os.isBadAndroid){this.scrollerStyle.webkitTransitionDuration="0.001s";if(this.parallaxElement&&this.options.scrollY){this.parallaxStyle.webkitTransitionDuration="0.001s"}}if(this.indicators){for(var m=this.indicators.length;m--;){this.indicators[m].transitionTime(n)}}if(n){this.transitionTimer&&this.transitionTimer.cancel();this.transitionTimer=e.later(function(){e.trigger(this.scroller,"webkitTransitionEnd")},n+100,this)}},_transitionTimingFunction:function(n){this.scrollerStyle.webkitTransitionTimingFunction=n;if(this.parallaxElement&&this.options.scrollY){this.parallaxStyle.webkitTransitionDuration=n}if(this.indicators){for(var m=this.indicators.length;m--;){this.indicators[m].transitionTimingFunction(n)}}},_translate:function(m,n){this.x=m;this.y=n},_clearRequestAnimationFrame:function(){if(this.requestAnimationFrame){cancelAnimationFrame(this.requestAnimationFrame);this.requestAnimationFrame=null}},_updateTranslate:function(){var m=this;if(m.x!==m.lastX||m.y!==m.lastY){m.setTranslate(m.x,m.y)}m.requestAnimationFrame=requestAnimationFrame(function(){m._updateTranslate()})},_createScrollBar:function(n){var o=j.createElement("div");var m=j.createElement("div");o.className=f+" "+n;m.className=h;o.appendChild(m);if(n===i){this.scrollbarY=o;this.scrollbarIndicatorY=m}else{if(n===d){this.scrollbarX=o;this.scrollbarIndicatorX=m}}this.wrapper.appendChild(o);return o},_preventDefaultException:function(o,n){for(var m in n){if(n[m].test(o[m])){return true}}return false},_reLayout:function(){if(!this.hasHorizontalScroll){this.maxScrollX=0;this.scrollerWidth=this.wrapperWidth}if(!this.hasVerticalScroll){this.maxScrollY=0;this.scrollerHeight=this.wrapperHeight}this.indicators.map(function(q){q.refresh()});if(this.options.snap&&typeof this.options.snap==="string"){var n=this.scroller.querySelectorAll(this.options.snap);this.itemLength=0;this.snaps=[];for(var o=0,m=n.length;o<m;o++){var p=n[o];if(p.parentNode===this.scroller){this.itemLength++;this.snaps.push(p)}}this._initSnap()}},_momentum:function(r,n,o,m,s,t){var p=parseFloat(Math.abs(n)/o),u,q;t=t===b?0.0006:t;u=r+(p*p)/(2*t)*(n<0?-1:1);q=p/t;if(u<m){u=s?m-(s/2.5*(p/8)):m;n=Math.abs(u-r);q=n/p}else{if(u>0){u=s?s/2.5*(p/8):0;n=Math.abs(r)+u;q=n/p}}return{destination:Math.round(u),duration:q}},_getTranslateStr:function(m,n){if(this.options.hardwareAccelerated){return"translate3d("+m+"px,"+n+"px,0px) "+this.translateZ}return"translate("+m+"px,"+n+"px) "},setStopped:function(m){this.stopped=!!m},setTranslate:function(m,q){this.x=m;this.y=q;this.scrollerStyle.webkitTransform=this._getTranslateStr(m,q);if(this.parallaxElement&&this.options.scrollY){var n=q*this.options.parallaxRatio;var p=1+n/((this.parallaxHeight-n)/2);if(p>1){this.parallaxImgStyle.opacity=1-n/100*this.options.parallaxRatio;this.parallaxStyle.webkitTransform=this._getTranslateStr(0,-n)+" scale("+p+","+p+")"}else{this.parallaxImgStyle.opacity=1;this.parallaxStyle.webkitTransform=this._getTranslateStr(0,-1)+" scale(1,1)"}}if(this.indicators){for(var o=this.indicators.length;o--;){this.indicators[o].updatePosition()}}this.lastX=this.x;this.lastY=this.y;e.trigger(this.scroller,"scroll",this)},reLayout:function(){this.wrapper.offsetHeight;var n=parseFloat(e.getStyles(this.wrapper,"padding-left"))||0;var r=parseFloat(e.getStyles(this.wrapper,"padding-right"))||0;var o=parseFloat(e.getStyles(this.wrapper,"padding-top"))||0;var p=parseFloat(e.getStyles(this.wrapper,"padding-bottom"))||0;var q=this.wrapper.clientWidth;var m=this.wrapper.clientHeight;this.scrollerWidth=this.scroller.offsetWidth;this.scrollerHeight=this.scroller.offsetHeight;this.wrapperWidth=q-n-r;this.wrapperHeight=m-o-p;this.maxScrollX=Math.min(this.wrapperWidth-this.scrollerWidth,0);this.maxScrollY=Math.min(this.wrapperHeight-this.scrollerHeight,0);this.hasHorizontalScroll=this.options.scrollX&&this.maxScrollX<0;this.hasVerticalScroll=this.options.scrollY&&this.maxScrollY<0;this._reLayout()},resetPosition:function(n){var m=this.x,o=this.y;n=n||0;if(!this.hasHorizontalScroll||this.x>0){m=0}else{if(this.x<this.maxScrollX){m=this.maxScrollX}}if(!this.hasVerticalScroll||this.y>0){o=0}else{if(this.y<this.maxScrollY){o=this.maxScrollY}}if(m==this.x&&o==this.y){return false}this.scrollTo(m,o,n,this.options.scrollEasing);return true},refresh:function(){this.reLayout();e.trigger(this.scroller,"refresh",this);this.resetPosition()},scrollTo:function(m,p,n,o){var o=o||c.circular;this.isInTransition=n>0;if(this.isInTransition){this._clearRequestAnimationFrame();this._transitionTimingFunction(o.style);this._transitionTime(n);this.setTranslate(m,p)}else{this.setTranslate(m,p)}},scrollToBottom:function(m,n){m=m||this.options.scrollTime;this.scrollTo(0,this.maxScrollY,m,n)},gotoPage:function(m){this._gotoPage(m)},destory:function(){this._initEvent(true);delete e.data[this.wrapper.getAttribute("data-scroll")];this.wrapper.setAttribute("data-scroll","")}});var l=function(m,n){this.wrapper=typeof n.el=="string"?j.querySelector(n.el):n.el;this.wrapperStyle=this.wrapper.style;this.indicator=this.wrapper.children[0];this.indicatorStyle=this.indicator.style;this.scroller=m;this.options=e.extend({listenX:true,listenY:true,fade:false,speedRatioX:0,speedRatioY:0},n);this.sizeRatioX=1;this.sizeRatioY=1;this.maxPosX=0;this.maxPosY=0;if(this.options.fade){this.wrapperStyle.webkitTransform=this.scroller.translateZ;this.wrapperStyle.webkitTransitionDuration=this.options.fixedBadAndorid&&e.os.isBadAndroid?"0.001s":"0ms";this.wrapperStyle.opacity="0"}};l.prototype={handleEvent:function(m){},transitionTime:function(m){m=m||0;this.indicatorStyle.webkitTransitionDuration=m+"ms";if(this.scroller.options.fixedBadAndorid&&!m&&e.os.isBadAndroid){this.indicatorStyle.webkitTransitionDuration="0.001s"}},transitionTimingFunction:function(m){this.indicatorStyle.webkitTransitionTimingFunction=m},refresh:function(){this.transitionTime();if(this.options.listenX&&!this.options.listenY){this.indicatorStyle.display=this.scroller.hasHorizontalScroll?"block":"none"}else{if(this.options.listenY&&!this.options.listenX){this.indicatorStyle.display=this.scroller.hasVerticalScroll?"block":"none"}else{this.indicatorStyle.display=this.scroller.hasHorizontalScroll||this.scroller.hasVerticalScroll?"block":"none"}}this.wrapper.offsetHeight;if(this.options.listenX){this.wrapperWidth=this.wrapper.clientWidth;this.indicatorWidth=Math.max(Math.round(this.wrapperWidth*this.wrapperWidth/(this.scroller.scrollerWidth||this.wrapperWidth||1)),8);this.indicatorStyle.width=this.indicatorWidth+"px";this.maxPosX=this.wrapperWidth-this.indicatorWidth;this.minBoundaryX=0;this.maxBoundaryX=this.maxPosX;this.sizeRatioX=this.options.speedRatioX||(this.scroller.maxScrollX&&(this.maxPosX/this.scroller.maxScrollX))}if(this.options.listenY){this.wrapperHeight=this.wrapper.clientHeight;this.indicatorHeight=Math.max(Math.round(this.wrapperHeight*this.wrapperHeight/(this.scroller.scrollerHeight||this.wrapperHeight||1)),8);this.indicatorStyle.height=this.indicatorHeight+"px";this.maxPosY=this.wrapperHeight-this.indicatorHeight;this.minBoundaryY=0;this.maxBoundaryY=this.maxPosY;this.sizeRatioY=this.options.speedRatioY||(this.scroller.maxScrollY&&(this.maxPosY/this.scroller.maxScrollY))}this.updatePosition()},updatePosition:function(){var m=this.options.listenX&&Math.round(this.sizeRatioX*this.scroller.x)||0,n=this.options.listenY&&Math.round(this.sizeRatioY*this.scroller.y)||0;if(m<this.minBoundaryX){this.width=Math.max(this.indicatorWidth+m,8);this.indicatorStyle.width=this.width+"px";m=this.minBoundaryX}else{if(m>this.maxBoundaryX){this.width=Math.max(this.indicatorWidth-(m-this.maxPosX),8);this.indicatorStyle.width=this.width+"px";m=this.maxPosX+this.indicatorWidth-this.width}else{if(this.width!=this.indicatorWidth){this.width=this.indicatorWidth;this.indicatorStyle.width=this.width+"px"}}}if(n<this.minBoundaryY){this.height=Math.max(this.indicatorHeight+n*3,8);this.indicatorStyle.height=this.height+"px";n=this.minBoundaryY}else{if(n>this.maxBoundaryY){this.height=Math.max(this.indicatorHeight-(n-this.maxPosY)*3,8);this.indicatorStyle.height=this.height+"px";n=this.maxPosY+this.indicatorHeight-this.height}else{if(this.height!=this.indicatorHeight){this.height=this.indicatorHeight;this.indicatorStyle.height=this.height+"px"}}}this.x=m;this.y=n;this.indicatorStyle.webkitTransform=this.scroller._getTranslateStr(m,n)},fade:function(p,o){if(o&&!this.visible){return}clearTimeout(this.fadeTimeout);this.fadeTimeout=null;var n=p?250:500,m=p?0:300;p=p?"1":"0";this.wrapperStyle.webkitTransitionDuration=n+"ms";this.fadeTimeout=setTimeout((function(q){this.wrapperStyle.opacity=q;this.visible=+q}).bind(this,p),m)}};e.Scroll=a;e.fn.scroll=function(m){var n=[];this.each(function(){var q=null;var p=this;var r=p.getAttribute("data-scroll");if(!r){r=++e.uuid;var o=e.extend({},m);if(p.classList.contains("mui-segmented-control")){o=e.extend(o,{scrollY:false,scrollX:true,indicators:false,snap:".mui-control-item"})}e.data[r]=q=new a(p,o);p.setAttribute("data-scroll",r)}else{q=e.data[r]}n.push(q)});return n.length===1?n[0]:n}})(mui,window,document);(function(d,c,a,g){var b="mui-visibility";var f="mui-hidden";var e=d.Scroll.extend(d.extend({handleEvent:function(h){this._super(h);if(h.type==="scrollbottom"){if(h.target===this.scroller){this._scrollbottom()}}},_scrollbottom:function(){if(!this.pulldown&&!this.loading){this.pulldown=false;this._initPullupRefresh();this.pullupLoading()}},_start:function(h){if(h.touches&&h.touches.length&&h.touches[0].clientX>30){h.target&&!this._preventDefaultException(h.target,this.options.preventDefaultException)&&h.preventDefault()}if(!this.loading){this.pulldown=this.pullPocket=this.pullCaption=this.pullLoading=false}this._super(h)},_drag:function(h){this._super(h);if(!this.pulldown&&!this.loading&&this.topPocket&&h.detail.direction==="down"&&this.y>=0){this._initPulldownRefresh()}if(this.pulldown){this._setCaption(this.y>this.options.down.height?this.options.down.contentover:this.options.down.contentdown)}},_reLayout:function(){this.hasVerticalScroll=true;this._super()},resetPosition:function(h){if(this.pulldown){if(this.y>=this.options.down.height){this.pulldownLoading(g,h||0);return true}else{!this.loading&&this.topPocket.classList.remove(b)}}return this._super(h)},pulldownLoading:function(j,h){typeof j==="undefined"&&(j=this.options.down.height);this.scrollTo(0,j,h,this.options.bounceEasing);if(this.loading){return}this._initPulldownRefresh();this._setCaption(this.options.down.contentrefresh);this.loading=true;this.indicators.map(function(k){k.fade(0)});var i=this.options.down.callback;i&&i.call(this)},endPulldownToRefresh:function(){var h=this;if(h.topPocket&&h.loading&&this.pulldown){h.scrollTo(0,0,h.options.bounceTime,h.options.bounceEasing);h.loading=false;h._setCaption(h.options.down.contentdown,true);setTimeout(function(){h.loading||h.topPocket.classList.remove(b)},350)}},pullupLoading:function(j,h,i){h=h||0;this.scrollTo(h,this.maxScrollY,i,this.options.bounceEasing);if(this.loading){return}this._initPullupRefresh();this._setCaption(this.options.up.contentrefresh);this.indicators.map(function(k){k.fade(0)});this.loading=true;j=j||this.options.up.callback;j&&j.call(this)},endPullupToRefresh:function(i){var h=this;if(h.bottomPocket){h.loading=false;if(i){this.finished=true;h._setCaption(h.options.up.contentnomore);h.wrapper.removeEventListener("scrollbottom",h)}else{h._setCaption(h.options.up.contentdown);h.loading||h.bottomPocket.classList.remove(b)}}},disablePullupToRefresh:function(){this._initPullupRefresh();this.bottomPocket.className="mui-pull-bottom-pocket "+f;this.wrapper.removeEventListener("scrollbottom",this)},enablePullupToRefresh:function(){this._initPullupRefresh();this.bottomPocket.classList.remove(f);this._setCaption(this.options.up.contentdown);this.wrapper.addEventListener("scrollbottom",this)},refresh:function(h){if(h&&this.finished){this.enablePullupToRefresh();this.finished=false}this._super()},},d.PullRefresh));d.fn.pullRefresh=function(i){if(this.length===1){var h=this[0];var k=null;i=i||{};var j=h.getAttribute("data-pullrefresh");if(!j){j=++d.uuid;d.data[j]=k=new e(h,i);h.setAttribute("data-pullrefresh",j)}else{k=d.data[j]}if(i.down&&i.down.auto){k.pulldownLoading(i.down.autoY)}else{if(i.up&&i.up.auto){k.pullupLoading()}}return k}}})(mui,window,document);(function(f,h){var i="mui-slider";var a="mui-slider-group";var k="mui-slider-loop";var n="mui-slider-indicator";var j="mui-action-previous";var m="mui-action-next";var b="mui-slider-item";var l="mui-active";var d="."+b;var g="."+n;var c=".mui-slider-progress-bar";var e=f.Slider=f.Scroll.extend({init:function(p,o){this._super(p,f.extend(true,{fingers:1,interval:0,scrollY:false,scrollX:true,indicators:false,scrollTime:1000,startX:false,slideTime:0,snap:d},o));if(this.options.startX){}},_init:function(){var p=this.wrapper.querySelectorAll("."+a);for(var q=0,o=p.length;q<o;q++){if(p[q].parentNode===this.wrapper){this.scroller=p[q];break}}if(this.scroller){this.scrollerStyle=this.scroller.style;this.progressBar=this.wrapper.querySelector(c);if(this.progressBar){this.progressBarWidth=this.progressBar.offsetWidth;this.progressBarStyle=this.progressBar.style}this._super();this._initTimer()}},_triggerSlide:function(){var o=this;o.isInTransition=false;var p=o.currentPage;o.slideNumber=o._fixedSlideNumber();if(o.loop){if(o.slideNumber===0){o.setTranslate(o.pages[1][0].x,0)}else{if(o.slideNumber===o.itemLength-3){o.setTranslate(o.pages[o.itemLength-2][0].x,0)}}}if(o.lastSlideNumber!=o.slideNumber){o.lastSlideNumber=o.slideNumber;o.lastPage=o.currentPage;f.trigger(o.wrapper,"slide",{slideNumber:o.slideNumber})}o._initTimer()},_handleSlide:function(v){var A=this;if(v.target!==A.wrapper){return}var t=v.detail;t.slideNumber=t.slideNumber||0;var p=A.scroller.querySelectorAll(d);var w=[];for(var s=0,u=p.length;s<u;s++){var z=p[s];if(z.parentNode===A.scroller){w.push(z)}}var o=t.slideNumber;if(A.loop){o+=1}if(!A.wrapper.classList.contains("mui-segmented-control")){for(var s=0,u=w.length;s<u;s++){var z=w[s];if(z.parentNode===A.scroller){if(s===o){z.classList.add(l)}else{z.classList.remove(l)}}}}var x=A.wrapper.querySelector(".mui-slider-indicator");if(x){if(x.getAttribute("data-scroll")){f(x).scroll().gotoPage(t.slideNumber)}var y=x.querySelectorAll(".mui-indicator");if(y.length>0){for(var s=0,u=y.length;s<u;s++){y[s].classList[s===t.slideNumber?"add":"remove"](l)}}else{var r=x.querySelector(".mui-number span");if(r){r.innerText=(t.slideNumber+1)}else{var q=A.wrapper.querySelectorAll(".mui-control-item");for(var s=0,u=q.length;s<u;s++){q[s].classList[s===t.slideNumber?"add":"remove"](l)}}}}v.stopPropagation()},_handleTabShow:function(p){var o=this;o.gotoItem((p.detail.tabNumber||0),o.options.slideTime)},_handleIndicatorTap:function(p){var o=this;var q=p.target;if(q.classList.contains(j)||q.classList.contains(m)){o[q.classList.contains(j)?"prevItem":"nextItem"]();p.stopPropagation()}},_initEvent:function(r){var p=this;p._super(r);var q=r?"removeEventListener":"addEventListener";p.wrapper[q]("swiperight",f.stopPropagation);p.wrapper[q]("scrollend",p._triggerSlide.bind(this));p.wrapper[q]("slide",p._handleSlide.bind(this));p.wrapper[q](f.eventName("shown","tab"),p._handleTabShow.bind(this));var o=p.wrapper.querySelector(g);if(o){o[q]("tap",p._handleIndicatorTap.bind(this))}},_drag:function(q){this._super(q);var p=q.detail.direction;if(p==="left"||p==="right"){var o=this.wrapper.getAttribute("data-slidershowTimer");o&&h.clearTimeout(o);q.stopPropagation()}},_initTimer:function(){var q=this;var r=q.wrapper;var p=q.options.interval;var o=r.getAttribute("data-slidershowTimer");o&&h.clearTimeout(o);if(p){o=h.setTimeout(function(){if(!r){return}if(!!(r.offsetWidth||r.offsetHeight)){q.nextItem(true)}q._initTimer()},p);r.setAttribute("data-slidershowTimer",o)}},_fixedSlideNumber:function(p){p=p||this.currentPage;var o=p.pageX;if(this.loop){if(p.pageX===0){o=this.itemLength-3}else{if(p.pageX===(this.itemLength-1)){o=0}else{o=p.pageX-1}}}return o},_reLayout:function(){this.hasHorizontalScroll=true;this.loop=this.scroller.classList.contains(k);this._super()},_getScroll:function(){var o=f.parseTranslateMatrix(f.getStyles(this.scroller,"webkitTransform"));return o?o.x:0},_transitionEnd:function(o){if(o.target!==this.scroller||!this.isInTransition){return}this._transitionTime();this.isInTransition=false;f.trigger(this.wrapper,"scrollend",this)},_flick:function(q){if(!this.moved){return}var o=q.detail;var p=o.direction;this._clearRequestAnimationFrame();this.isInTransition=true;if(q.type==="flick"){if(o.deltaTime<200){this.x=this._getPage((this.slideNumber+(p==="right"?-1:1)),true).x}this.resetPosition(this.options.bounceTime)}else{if(q.type==="dragend"&&!o.flick){this.resetPosition(this.options.bounceTime)}}q.stopPropagation()},_initSnap:function(){this.scrollerWidth=this.itemLength*this.scrollerWidth;this.maxScrollX=Math.min(this.wrapperWidth-this.scrollerWidth,0);this._super();if(!this.currentPage.x){var o=this.pages[this.loop?1:0];o=o||this.pages[0];if(!o){return}this.currentPage=o[0];this.slideNumber=0;this.lastSlideNumber=typeof this.lastSlideNumber==="undefined"?0:this.lastSlideNumber}else{this.slideNumber=this._fixedSlideNumber();this.lastSlideNumber=typeof this.lastSlideNumber==="undefined"?this.slideNumber:this.lastSlideNumber}this.options.startX=this.currentPage.x||0},_getSnapX:function(o){return Math.max(-o,this.maxScrollX)},_getPage:function(o,p){if(this.loop){if(o>(this.itemLength-(p?2:3))){o=1;time=0}else{if(o<(p?-1:0)){o=this.itemLength-2;time=0}else{o+=1}}}else{if(!p){if(o>(this.itemLength-1)){o=0;time=0}else{if(o<0){o=this.itemLength-1;time=0}}}o=Math.min(Math.max(0,o),this.itemLength-1)}return this.pages[o][0]},_gotoItem:function(o,p){this.currentPage=this._getPage(o,true);this.scrollTo(this.currentPage.x,0,p,this.options.scrollEasing);if(p===0){f.trigger(this.wrapper,"scrollend",this)}},setTranslate:function(o,q){this._super(o,q);var p=this.progressBar;if(p){this.progressBarStyle.webkitTransform=this._getTranslateStr((-o*(this.progressBarWidth/this.wrapperWidth)),0)}},resetPosition:function(o){o=o||0;if(this.x>0){this.x=0}else{if(this.x<this.maxScrollX){this.x=this.maxScrollX}}this.currentPage=this._nearestSnap(this.x);this.scrollTo(this.currentPage.x,0,o,this.options.scrollEasing);return true},gotoItem:function(o,p){this._gotoItem(o,typeof p==="undefined"?this.options.scrollTime:p)},nextItem:function(){this._gotoItem(this.slideNumber+1,this.options.scrollTime)},prevItem:function(){this._gotoItem(this.slideNumber-1,this.options.scrollTime)},getSlideNumber:function(){return this.slideNumber||0},refresh:function(o){if(o){f.extend(this.options,o);this._super();this.nextItem()}else{this._super()}},destory:function(){this._initEvent(true);delete f.data[this.wrapper.getAttribute("data-slider")];this.wrapper.setAttribute("data-slider","")}});f.fn.slider=function(o){var p=null;this.each(function(){var r=this;if(!this.classList.contains(i)){r=this.querySelector("."+i)}if(r&&r.querySelector(d)){var q=r.getAttribute("data-slider");if(!q){q=++f.uuid;f.data[q]=p=new e(r,o);r.setAttribute("data-slider",q)}else{p=f.data[q];if(p&&o){p.refresh(o)}}}});return p};f.ready(function(){f(".mui-slider").slider();f(".mui-scroll-wrapper.mui-slider-indicator.mui-segmented-control").scroll({scrollY:false,scrollX:true,indicators:false,snap:".mui-control-item"})})})(mui,window);(function(e,k,l,b){var c="mui-off-canvas-left";var n="mui-off-canvas-right";var d="mui-off-canvas-backdrop";var o="mui-off-canvas-wrap";var j="mui-slide-in";var m="mui-active";var a="mui-transitioning";var i=".mui-inner-wrap";var g=e.Class.extend({init:function(q,p){this.wrapper=this.element=q;this.scroller=this.wrapper.querySelector(i);this.classList=this.wrapper.classList;if(this.scroller){this.options=e.extend(true,{dragThresholdX:10,scale:0.8,opacity:0.1,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT|VIDEO)$/},},p);l.body.classList.add("mui-fullscreen");this.refresh();this.initEvent()}},_preventDefaultException:function(r,q){for(var p in q){if(q[p].test(r[p])){return true}}return false},refresh:function(p){this.slideIn=this.classList.contains(j);this.scalable=this.classList.contains("mui-scalable")&&!this.slideIn;this.scroller=this.wrapper.querySelector(i);this.offCanvasLefts=this.wrapper.querySelectorAll("."+c);this.offCanvasRights=this.wrapper.querySelectorAll("."+n);if(p){if(p.classList.contains(c)){this.offCanvasLeft=p}else{if(p.classList.contains(n)){this.offCanvasRight=p}}}else{this.offCanvasRight=this.wrapper.querySelector("."+n);this.offCanvasLeft=this.wrapper.querySelector("."+c)}this.offCanvasRightWidth=this.offCanvasLeftWidth=0;this.offCanvasLeftSlideIn=this.offCanvasRightSlideIn=false;if(this.offCanvasRight){this.offCanvasRightWidth=this.offCanvasRight.offsetWidth;this.offCanvasRightSlideIn=this.slideIn&&(this.offCanvasRight.parentNode===this.wrapper)}if(this.offCanvasLeft){this.offCanvasLeftWidth=this.offCanvasLeft.offsetWidth;this.offCanvasLeftSlideIn=this.slideIn&&(this.offCanvasLeft.parentNode===this.wrapper)}this.backdrop=this.scroller.querySelector("."+d);this.options.dragThresholdX=this.options.dragThresholdX||10;this.visible=false;this.startX=null;this.lastX=null;this.offsetX=null;this.lastTranslateX=null},handleEvent:function(t){switch(t.type){case"touchstart":t.target&&!this._preventDefaultException(t.target,this.options.preventDefaultException)&&t.preventDefault();break;case"webkitTransitionEnd":if(t.target===this.scroller){this._dispatchEvent()}break;case"drag":var r=t.detail;if(!this.startX){this.startX=r.center.x;this.lastX=this.startX}else{this.lastX=r.center.x}if(!this.isDragging&&Math.abs(this.lastX-this.startX)>this.options.dragThresholdX&&(r.direction==="left"||(r.direction==="right"))){if(this.slideIn){this.scroller=this.wrapper.querySelector(i);if(this.classList.contains(m)){if(this.offCanvasRight&&this.offCanvasRight.classList.contains(m)){this.offCanvas=this.offCanvasRight;this.offCanvasWidth=this.offCanvasRightWidth}else{this.offCanvas=this.offCanvasLeft;this.offCanvasWidth=this.offCanvasLeftWidth}}else{if(r.direction==="left"&&this.offCanvasRight){this.offCanvas=this.offCanvasRight;this.offCanvasWidth=this.offCanvasRightWidth}else{if(r.direction==="right"&&this.offCanvasLeft){this.offCanvas=this.offCanvasLeft;this.offCanvasWidth=this.offCanvasLeftWidth}else{this.scroller=null}}}}else{if(this.classList.contains(m)){if(r.direction==="left"){this.offCanvas=this.offCanvasLeft;this.offCanvasWidth=this.offCanvasLeftWidth}else{this.offCanvas=this.offCanvasRight;this.offCanvasWidth=this.offCanvasRightWidth}}else{if(r.direction==="right"){this.offCanvas=this.offCanvasLeft;this.offCanvasWidth=this.offCanvasLeftWidth}else{this.offCanvas=this.offCanvasRight;this.offCanvasWidth=this.offCanvasRightWidth}}}if(this.offCanvas&&this.scroller){this.startX=this.lastX;this.isDragging=true;e.gestures.session.lockDirection=true;e.gestures.session.startDirection=r.direction;this.offCanvas.classList.remove(a);this.scroller.classList.remove(a);this.offsetX=this.getTranslateX();this._initOffCanvasVisible()}}if(this.isDragging){this.updateTranslate(this.offsetX+(this.lastX-this.startX));r.gesture.preventDefault();t.stopPropagation()}break;case"dragend":if(this.isDragging){var r=t.detail;var s=r.direction;this.isDragging=false;this.offCanvas.classList.add(a);this.scroller.classList.add(a);var q=0;var p=this.getTranslateX();if(!this.slideIn){if(p>=0){q=(this.offCanvasLeftWidth&&(p/this.offCanvasLeftWidth))||0}else{q=(this.offCanvasRightWidth&&(p/this.offCanvasRightWidth))||0}if(q===0){this.openPercentage(0);this._dispatchEvent();return}if(s==="right"&&q>=0&&(q>=0.5||r.swipe)){this.openPercentage(100)}else{if(s==="right"&&q<0&&(q>-0.5||r.swipe)){this.openPercentage(0)}else{if(s==="right"&&q>0&&q<0.5){this.openPercentage(0)}else{if(s==="right"&&q<0.5){this.openPercentage(-100)}else{if(s==="left"&&q<=0&&(q<=-0.5||r.swipe)){this.openPercentage(-100)}else{if(s==="left"&&q>0&&(q<=0.5||r.swipe)){this.openPercentage(0)}else{if(s==="left"&&q<0&&q>=-0.5){this.openPercentage(0)}else{if(s==="left"&&q>0.5){this.openPercentage(100)}else{this.openPercentage(0)}}}}}}}}if(q===1||q===-1){this._dispatchEvent()}}else{if(p>=0){q=(this.offCanvasRightWidth&&(p/this.offCanvasRightWidth))||0}else{q=(this.offCanvasLeftWidth&&(p/this.offCanvasLeftWidth))||0}if(s==="right"&&q<=0&&(q>=-0.5||r.swipe)){this.openPercentage(100)}else{if(s==="right"&&q>0&&(q>=0.5||r.swipe)){this.openPercentage(0)}else{if(s==="right"&&q<=-0.5){this.openPercentage(0)}else{if(s==="right"&&q>0&&q<=0.5){this.openPercentage(-100)}else{if(s==="left"&&q>=0&&(q<=0.5||r.swipe)){this.openPercentage(-100)}else{if(s==="left"&&q<0&&(q<=-0.5||r.swipe)){this.openPercentage(0)}else{if(s==="left"&&q>=0.5){this.openPercentage(0)}else{if(s==="left"&&q>=-0.5&&q<0){this.openPercentage(100)}else{this.openPercentage(0)}}}}}}}}if(q===1||q===-1||q===0){this._dispatchEvent();return}}}break}},_dispatchEvent:function(){if(this.classList.contains(m)){e.trigger(this.wrapper,"shown",this)}else{e.trigger(this.wrapper,"hidden",this)}},_initOffCanvasVisible:function(){if(!this.visible){this.visible=true;if(this.offCanvasLeft){this.offCanvasLeft.style.visibility="visible"}if(this.offCanvasRight){this.offCanvasRight.style.visibility="visible"}}},initEvent:function(){var p=this;if(p.backdrop){p.backdrop.addEventListener("tap",function(q){p.close();q.detail.gesture.preventDefault()})}if(this.classList.contains("mui-draggable")){this.wrapper.addEventListener("touchstart",this);this.wrapper.addEventListener("drag",this);this.wrapper.addEventListener("dragend",this)}this.wrapper.addEventListener("webkitTransitionEnd",this)},openPercentage:function(q){var r=q/100;if(!this.slideIn){if(this.offCanvasLeft&&q>=0){this.updateTranslate(this.offCanvasLeftWidth*r);this.offCanvasLeft.classList[r!==0?"add":"remove"](m)}else{if(this.offCanvasRight&&q<=0){this.updateTranslate(this.offCanvasRightWidth*r);this.offCanvasRight.classList[r!==0?"add":"remove"](m)}}this.classList[r!==0?"add":"remove"](m)}else{if(this.offCanvasLeft&&q>=0){r=r===0?-1:0;this.updateTranslate(this.offCanvasLeftWidth*r);this.offCanvasLeft.classList[q!==0?"add":"remove"](m)}else{if(this.offCanvasRight&&q<=0){r=r===0?1:0;this.updateTranslate(this.offCanvasRightWidth*r);this.offCanvasRight.classList[q!==0?"add":"remove"](m)}}this.classList[q!==0?"add":"remove"](m)}},updateTranslate:function(p){if(p!==this.lastTranslateX){if(!this.slideIn){if((!this.offCanvasLeft&&p>0)||(!this.offCanvasRight&&p<0)){this.setTranslateX(0);return}if(this.leftShowing&&p>this.offCanvasLeftWidth){this.setTranslateX(this.offCanvasLeftWidth);return}if(this.rightShowing&&p<-this.offCanvasRightWidth){this.setTranslateX(-this.offCanvasRightWidth);return}this.setTranslateX(p);if(p>=0){this.leftShowing=true;this.rightShowing=false;if(p>0){if(this.offCanvasLeft){e.each(this.offCanvasLefts,function(q,r){if(r===this.offCanvasLeft){this.offCanvasLeft.style.zIndex=0}else{r.style.zIndex=-1}}.bind(this))}if(this.offCanvasRight){this.offCanvasRight.style.zIndex=-1}}}else{this.rightShowing=true;this.leftShowing=false;if(this.offCanvasRight){e.each(this.offCanvasRights,function(q,r){if(r===this.offCanvasRight){r.style.zIndex=0}else{r.style.zIndex=-1}}.bind(this))}if(this.offCanvasLeft){this.offCanvasLeft.style.zIndex=-1}}}else{if(this.offCanvas.classList.contains(n)){if(p<0){this.setTranslateX(0);return}if(p>this.offCanvasRightWidth){this.setTranslateX(this.offCanvasRightWidth);return}}else{if(p>0){this.setTranslateX(0);return}if(p<-this.offCanvasLeftWidth){this.setTranslateX(-this.offCanvasLeftWidth);return}}this.setTranslateX(p)}this.lastTranslateX=p}},setTranslateX:e.animationFrame(function(p){if(this.scroller){if(this.scalable&&this.offCanvas.parentNode===this.wrapper){var r=Math.abs(p)/this.offCanvasWidth;var q=1-(1-this.options.scale)*r;var t=this.options.scale+(1-this.options.scale)*r;var u=1-(1-this.options.opacity)*r;var s=this.options.opacity+(1-this.options.opacity)*r;if(this.offCanvas.classList.contains(c)){this.offCanvas.style.webkitTransformOrigin="-100%";this.scroller.style.webkitTransformOrigin="left"}else{this.offCanvas.style.webkitTransformOrigin="200%";this.scroller.style.webkitTransformOrigin="right"}this.offCanvas.style.opacity=s;this.offCanvas.style.webkitTransform="translate3d(0,0,0) scale("+t+")";this.scroller.style.webkitTransform="translate3d("+p+"px,0,0) scale("+q+")"}else{if(this.slideIn){this.offCanvas.style.webkitTransform="translate3d("+p+"px,0,0)"}else{this.scroller.style.webkitTransform="translate3d("+p+"px,0,0)"}}}}),getTranslateX:function(){if(this.offCanvas){var q=this.slideIn?this.offCanvas:this.scroller;var p=e.parseTranslateMatrix(e.getStyles(q,"webkitTransform"));return(p&&p.x)||0}return 0},isShown:function(r){var q=false;if(!this.slideIn){var p=this.getTranslateX();if(r==="right"){q=this.classList.contains(m)&&p<0}else{if(r==="left"){q=this.classList.contains(m)&&p>0}else{q=this.classList.contains(m)&&p!==0}}}else{if(r==="left"){q=this.classList.contains(m)&&this.wrapper.querySelector("."+c+"."+m)}else{if(r==="right"){q=this.classList.contains(m)&&this.wrapper.querySelector("."+n+"."+m)}else{q=this.classList.contains(m)&&(this.wrapper.querySelector("."+c+"."+m)||this.wrapper.querySelector("."+n+"."+m))}}}return q},close:function(){this._initOffCanvasVisible();this.offCanvas=this.wrapper.querySelector("."+n+"."+m)||this.wrapper.querySelector("."+c+"."+m);this.offCanvasWidth=this.offCanvas.offsetWidth;if(this.scroller){this.offCanvas.offsetHeight;this.offCanvas.classList.add(a);this.scroller.classList.add(a);this.openPercentage(0)}},show:function(p){this._initOffCanvasVisible();if(this.isShown(p)){return false}if(!p){p=this.wrapper.querySelector("."+n)?"right":"left"}if(p==="right"){this.offCanvas=this.offCanvasRight;this.offCanvasWidth=this.offCanvasRightWidth}else{this.offCanvas=this.offCanvasLeft;this.offCanvasWidth=this.offCanvasLeftWidth}if(this.scroller){this.offCanvas.offsetHeight;this.offCanvas.classList.add(a);this.scroller.classList.add(a);this.openPercentage(p==="left"?100:-100)}return true},toggle:function(q){var p=q;if(q&&q.classList){p=q.classList.contains(c)?"left":"right";this.refresh(q)}if(!this.show(p)){this.close()}}});var f=function(p){parentNode=p.parentNode;if(parentNode){if(parentNode.classList.contains(o)){return parentNode}else{parentNode=parentNode.parentNode;if(parentNode.classList.contains(o)){return parentNode}}}};var h=function(r,s){if(s.tagName==="A"&&s.hash){var p=l.getElementById(s.hash.replace("#",""));if(p){var q=f(p);if(q){e.targets._container=q;return p}}}return false};e.registerTarget({name:b,index:60,handle:h,target:false,isReset:false,isContinue:true});k.addEventListener("tap",function(q){if(!e.targets.offcanvas){return}var p=q.target;for(;p&&p!==l;p=p.parentNode){if(p.tagName==="A"&&p.hash&&p.hash===("#"+e.targets.offcanvas.id)){q.detail&&q.detail.gesture&&q.detail.gesture.preventDefault();e(e.targets._container).offCanvas().toggle(e.targets.offcanvas);e.targets.offcanvas=e.targets._container=null;break}}});e.fn.offCanvas=function(p){var q=[];this.each(function(){var t=null;var r=this;if(!r.classList.contains(o)){r=f(r)}var s=r.getAttribute("data-offCanvas");if(!s){s=++e.uuid;e.data[s]=t=new g(r,p);r.setAttribute("data-offCanvas",s)}else{t=e.data[s]}if(p==="show"||p==="close"||p==="toggle"){t.toggle()}q.push(t)});return q.length===1?q[0]:q};e.ready(function(){e(".mui-off-canvas-wrap").offCanvas()})})(mui,window,document,"offcanvas");(function(c,a){var d="mui-action";var b=function(f,g){var e=g.className||"";if(typeof e!=="string"){e=""}if(e&&~e.indexOf(d)){if(g.classList.contains("mui-action-back")){f.preventDefault()}return g}return false};c.registerTarget({name:a,index:50,handle:b,target:false,isContinue:true})})(mui,"action");(function(f,d,a,b){var c="mui-modal";var e=function(h,i){if(i.tagName==="A"&&i.hash){var g=a.getElementById(i.hash.replace("#",""));if(g&&g.classList.contains(c)){return g}}return false};f.registerTarget({name:b,index:50,handle:e,target:false,isReset:false,isContinue:true});d.addEventListener("tap",function(g){if(f.targets.modal){g.detail.gesture.preventDefault();f.targets.modal.classList.toggle("mui-active")}})})(mui,window,document,"modal");(function(e,l,o,w){var n="mui-popover";var t="mui-popover-arrow";var f="mui-popover-action";var a="mui-backdrop";var u="mui-bar-popover";var j="mui-bar-backdrop";var v="mui-backdrop-action";var d="mui-active";var h="mui-bottom";var s=function(x,y){if(y.tagName==="A"&&y.hash){e.targets._popover=o.getElementById(y.hash.replace("#",""));if(e.targets._popover&&e.targets._popover.classList.contains(n)){return y}else{e.targets._popover=null}}return false};e.registerTarget({name:w,index:60,handle:s,target:false,isReset:false,isContinue:true});var m=function(x){};var g=function(x){this.removeEventListener("webkitTransitionEnd",g);this.addEventListener("touchmove",e.preventDefault);e.trigger(this,"shown",this)};var k=function(x){c(this,"none");this.removeEventListener("webkitTransitionEnd",k);this.removeEventListener("touchmove",e.preventDefault);m(false);e.trigger(this,"hidden",this)};var p=(function(){var x=o.createElement("div");x.classList.add(a);x.addEventListener("touchmove",e.preventDefault);x.addEventListener("tap",function(z){var y=e.targets._popover;if(y){y.addEventListener("webkitTransitionEnd",k);y.classList.remove(d);b(y);o.body.setAttribute("style","")}});return x}());var r;var b=function(x){p.setAttribute("style","opacity:0");e.targets.popover=e.targets._popover=null;r=e.later(function(){if(!x.classList.contains(d)&&p.parentNode&&p.parentNode===o.body){o.body.removeChild(p)}},350)};l.addEventListener("tap",function(z){if(!e.targets.popover){return}var x=false;var y=z.target;for(;y&&y!==o;y=y.parentNode){if(y===e.targets.popover){x=true}}if(x){z.detail.gesture.preventDefault();i(e.targets._popover,e.targets.popover)}});var i=function(B,y,A){if((A==="show"&&B.classList.contains(d))||(A==="hide"&&!B.classList.contains(d))){return}r&&r.cancel();B.removeEventListener("webkitTransitionEnd",g);B.removeEventListener("webkitTransitionEnd",k);p.classList.remove(j);p.classList.remove(v);var z=o.querySelector(".mui-popover.mui-active");if(z){z.addEventListener("webkitTransitionEnd",k);z.classList.remove(d);if(B===z){b(z);return}}var x=false;if(B.classList.contains(u)||B.classList.contains(f)){if(B.classList.contains(f)){x=true;p.classList.add(v)}else{p.classList.add(j)}}c(B,"block");B.offsetHeight;B.classList.add(d);p.setAttribute("style","");o.body.appendChild(p);m(true);q(B,y,x);p.classList.add(d);B.addEventListener("webkitTransitionEnd",g)};var c=function(y,B,A,z){var x=y.style;if(typeof B!=="undefined"){x.display=B}if(typeof A!=="undefined"){x.top=A+"px"}if(typeof z!=="undefined"){x.left=z+"px"}};var q=function(B,F,M){if(!B||!F){return}if(M){c(B,"block");return}var J=l.innerWidth;var E=l.innerHeight;var L=B.offsetWidth;var D=B.offsetHeight;var N=F.offsetWidth;var A=F.offsetHeight;var C=e.offset(F);var x=B.querySelector("."+t);if(!x){x=o.createElement("div");x.className=t;B.appendChild(x)}var K=x&&x.offsetWidth/2||0;var I=0;var H=0;var G=0;var y=0;var z=B.classList.contains(f)?0:5;var O="top";if((D+K)<(C.top-l.pageYOffset)){I=C.top-D-K}else{if((D+K)<(E-(C.top-l.pageYOffset)-A)){O="bottom";I=C.top+A+K}else{O="middle";I=Math.max((E-D)/2+l.pageYOffset,0);H=Math.max((J-L)/2+l.pageXOffset,0)}}if(O==="top"||O==="bottom"){H=N/2+C.left-L/2;G=H;if(H<z){H=z}if(H+L>J){H=J-L-z}if(x){if(O==="top"){x.classList.add(h)}else{x.classList.remove(h)}G=G-H;y=(L/2-K/2+G);y=Math.max(Math.min(y,L-K*2-6),6);x.setAttribute("style","left:"+y+"px")}}else{if(O==="middle"){x.setAttribute("style","display:none")}}c(B,"block",I,H)};e.createMask=function(z){var y=o.createElement("div");y.classList.add(a);y.addEventListener("touchmove",e.preventDefault);y.addEventListener("tap",function(){x.close()});var x=[y];x._show=false;x.show=function(){x._show=true;y.setAttribute("style","opacity:1");o.body.appendChild(y);return x};x._remove=function(){if(x._show){x._show=false;y.setAttribute("style","opacity:0");e.later(function(){var A=o.body;y.parentNode===A&&A.removeChild(y)},350)}return x};x.close=function(){if(z){if(z()!==false){x._remove()}}else{x._remove()}};return x};e.fn.popover=function(){var x=arguments;this.each(function(){e.targets._popover=this;if(x[0]==="show"||x[0]==="hide"||x[0]==="toggle"){i(this,x[1],x[0])}})}})(mui,window,document,"popover");(function(f,h,i,b,d){var e="mui-control-item";var m="mui-segmented-control";var k="mui-segmented-control-vertical";var j="mui-control-content";var a="mui-bar-tab";var l="mui-tab-item";var c="mui-slider-item";var g=function(n,o){if(o.classList&&(o.classList.contains(e)||o.classList.contains(l))){if(o.parentNode&&o.parentNode.classList&&o.parentNode.classList.contains(k)){}else{n.preventDefault()}return o}return false};f.registerTarget({name:b,index:80,handle:g,target:false});h.addEventListener("tap",function(t){var q=f.targets.tab;if(!q){return}var n;var x;var y;var v="mui-active";var o="."+v;var u=q.parentNode;for(;u&&u!==i;u=u.parentNode){if(u.classList.contains(m)){n=u.querySelector(o+"."+e);break}else{if(u.classList.contains(a)){n=u.querySelector(o+"."+l)}}}if(n){n.classList.remove(v)}var w=q===n;if(q){q.classList.add(v)}if(!q.hash){return}y=i.getElementById(q.hash.replace("#",""));if(!y){return}if(!y.classList.contains(j)){q.classList[w?"remove":"add"](v);return}if(w){return}var s=y.parentNode;x=s.querySelectorAll("."+j+o);for(var r=0;r<x.length;r++){var z=x[r];z.parentNode===s&&z.classList.remove(v)}y.classList.add(v);var p=y.parentNode.querySelectorAll("."+j);f.trigger(y,f.eventName("shown",b),{tabNumber:Array.prototype.indexOf.call(p,y)});t.detail&&t.detail.gesture.preventDefault()})})(mui,window,document,"tab");(function(f,i,b){var e="mui-switch";var c="mui-switch-handle";var k="mui-active";var a="mui-dragging";var h="mui-disabled";var d="."+c;var g=function(l,m){if(m.classList&&m.classList.contains(e)){return m}return false};f.registerTarget({name:b,index:100,handle:g,target:false});var j=function(l){this.element=l;this.classList=this.element.classList;this.handle=this.element.querySelector(d);this.init();this.initEvent()};j.prototype.init=function(){this.toggleWidth=this.element.offsetWidth;this.handleWidth=this.handle.offsetWidth;this.handleX=this.toggleWidth-this.handleWidth-3};j.prototype.initEvent=function(){this.element.addEventListener("touchstart",this);this.element.addEventListener("drag",this);this.element.addEventListener("swiperight",this);this.element.addEventListener("touchend",this);this.element.addEventListener("touchcancel",this)};j.prototype.handleEvent=function(l){if(this.classList.contains(h)){return}switch(l.type){case"touchstart":this.start(l);break;case"drag":this.drag(l);break;case"swiperight":this.swiperight();break;case"touchend":case"touchcancel":this.end(l);break}};j.prototype.start=function(l){this.handle.style.webkitTransitionDuration=this.element.style.webkitTransitionDuration=".2s";this.classList.add(a);if(this.toggleWidth===0||this.handleWidth===0){this.init()}};j.prototype.drag=function(m){var l=m.detail;if(!this.isDragging){if(l.direction==="left"||l.direction==="right"){this.isDragging=true;this.lastChanged=undefined;this.initialState=this.classList.contains(k)}}if(this.isDragging){this.setTranslateX(l.deltaX);m.stopPropagation();l.gesture.preventDefault()}};j.prototype.swiperight=function(l){if(this.isDragging){l.stopPropagation()}};j.prototype.end=function(l){this.classList.remove(a);if(this.isDragging){this.isDragging=false;l.stopPropagation();f.trigger(this.element,"toggle",{isActive:this.classList.contains(k)})}else{this.toggle()}};j.prototype.toggle=function(l){var m=this.classList;if(l===false){this.handle.style.webkitTransitionDuration=this.element.style.webkitTransitionDuration="0s"}else{this.handle.style.webkitTransitionDuration=this.element.style.webkitTransitionDuration=".2s"}if(m.contains(k)){m.remove(k);this.handle.style.webkitTransform="translate(0,0)"}else{m.add(k);this.handle.style.webkitTransform="translate("+this.handleX+"px,0)"}f.trigger(this.element,"toggle",{isActive:this.classList.contains(k)})};j.prototype.setTranslateX=f.animationFrame(function(l){if(!this.isDragging){return}var m=false;if((this.initialState&&-l>(this.handleX/2))||(!this.initialState&&l>(this.handleX/2))){m=true}if(this.lastChanged!==m){if(m){this.handle.style.webkitTransform="translate("+(this.initialState?0:this.handleX)+"px,0)";this.classList[this.initialState?"remove":"add"](k)}else{this.handle.style.webkitTransform="translate("+(this.initialState?this.handleX:0)+"px,0)";this.classList[this.initialState?"add":"remove"](k)}this.lastChanged=m}});f.fn["switch"]=function(m){var l=[];this.each(function(){var n=null;var o=this.getAttribute("data-switch");if(!o){o=++f.uuid;f.data[o]=new j(this);this.setAttribute("data-switch",o)}else{n=f.data[o]}l.push(n)});return l.length>1?l:l[0]};f.ready(function(){f("."+e)["switch"]()})})(mui,window,"toggle");(function(j,r,A){var i="mui-active";var x="mui-selected";var H="mui-grid-view";var q="mui-table-view-radio";var b="mui-table-view-cell";var E="mui-collapse-content";var e="mui-disabled";var z="mui-switch";var p="mui-btn";var C="mui-slider-handle";var c="mui-slider-left";var I="mui-slider-right";var f="mui-transitioning";var B="."+C;var o="."+c;var h="."+I;var l="."+x;var v="."+p;var D=0.8;var d,G;var t=isOpened=openedActions=progress=false;var F=sliderActionLeft=sliderActionRight=buttonsLeft=buttonsRight=sliderDirection=sliderRequestAnimationFrame=false;var u=translateX=lastTranslateX=sliderActionLeftWidth=sliderActionRightWidth=0;var w=function(a){if(a){if(G){G.classList.add(i)}else{if(d){d.classList.add(i)}}}else{u&&u.cancel();if(G){G.classList.remove(i)}else{if(d){d.classList.remove(i)}}}};var y=function(){if(translateX!==lastTranslateX){if(buttonsRight&&buttonsRight.length>0){progress=translateX/sliderActionRightWidth;if(translateX<-sliderActionRightWidth){translateX=-sliderActionRightWidth-Math.pow(-translateX-sliderActionRightWidth,D)}for(var J=0,a=buttonsRight.length;J<a;J++){var L=buttonsRight[J];if(typeof L._buttonOffset==="undefined"){L._buttonOffset=L.offsetLeft}buttonOffset=L._buttonOffset;g(L,(translateX-buttonOffset*(1+Math.max(progress,-1))))}}if(buttonsLeft&&buttonsLeft.length>0){progress=translateX/sliderActionLeftWidth;if(translateX>sliderActionLeftWidth){translateX=sliderActionLeftWidth+Math.pow(translateX-sliderActionLeftWidth,D)}for(var J=0,a=buttonsLeft.length;J<a;J++){var K=buttonsLeft[J];if(typeof K._buttonOffset==="undefined"){K._buttonOffset=sliderActionLeftWidth-K.offsetLeft-K.offsetWidth}buttonOffset=K._buttonOffset;if(buttonsLeft.length>1){K.style.zIndex=buttonsLeft.length-J}g(K,(translateX+buttonOffset*(1-Math.min(progress,1))))}}g(F,translateX);lastTranslateX=translateX}sliderRequestAnimationFrame=requestAnimationFrame(function(){y()})};var g=function(J,a){if(J){J.style.webkitTransform="translate("+a+"px,0)"}};r.addEventListener("touchstart",function(L){if(d){w(false)}d=G=false;t=isOpened=openedActions=false;var N=L.target;var a=false;for(;N&&N!==A;N=N.parentNode){if(N.classList){var O=N.classList;if((N.tagName==="INPUT"&&N.type!=="radio"&&N.type!=="checkbox")||N.tagName==="BUTTON"||O.contains(z)||O.contains(p)||O.contains(e)){a=true}if(O.contains(E)){break}if(O.contains(b)){d=N;var J=d.parentNode.querySelector(l);if(!d.parentNode.classList.contains(q)&&J&&J!==d){j.swipeoutClose(J);d=a=false;return}if(!d.parentNode.classList.contains(H)){var K=d.querySelector("a");if(K&&K.parentNode===d){G=K}}var M=d.querySelector(B);if(M){k(d);L.stopPropagation()}if(!a){if(M){if(u){u.cancel()}u=j.later(function(){w(true)},100)}else{w(true)}}break}}}});r.addEventListener("touchmove",function(a){w(false)});var s={handleEvent:function(a){switch(a.type){case"drag":this.drag(a);break;case"dragend":this.dragend(a);break;case"flick":this.flick(a);break;case"swiperight":this.swiperight(a);break;case"swipeleft":this.swipeleft(a);break}},drag:function(J){if(!d){return}if(!t){F=sliderActionLeft=sliderActionRight=buttonsLeft=buttonsRight=sliderDirection=sliderRequestAnimationFrame=false;F=d.querySelector(B);if(F){sliderActionLeft=d.querySelector(o);sliderActionRight=d.querySelector(h);if(sliderActionLeft){sliderActionLeftWidth=sliderActionLeft.offsetWidth;buttonsLeft=sliderActionLeft.querySelectorAll(v)}if(sliderActionRight){sliderActionRightWidth=sliderActionRight.offsetWidth;buttonsRight=sliderActionRight.querySelectorAll(v)}d.classList.remove(f);isOpened=d.classList.contains(x);if(isOpened){openedActions=d.querySelector(o+l)?"left":"right"}}}var a=J.detail;var K=a.direction;var M=a.angle;if(K==="left"&&(M>150||M<-150)){if(buttonsRight||(buttonsLeft&&isOpened)){t=true}}else{if(K==="right"&&(M>-30&&M<30)){if(buttonsLeft||(buttonsRight&&isOpened)){t=true}}}if(t){J.stopPropagation();J.detail.gesture.preventDefault();var L=J.detail.deltaX;if(isOpened){if(openedActions==="right"){L=L-sliderActionRightWidth}else{L=L+sliderActionLeftWidth}}if((L>0&&!buttonsLeft)||(L<0&&!buttonsRight)){if(!isOpened){return}L=0}if(L<0){sliderDirection="toLeft"}else{if(L>0){sliderDirection="toRight"}else{if(!sliderDirection){sliderDirection="toLeft"}}}if(!sliderRequestAnimationFrame){y()}translateX=L}},flick:function(a){if(t){a.stopPropagation()}},swipeleft:function(a){if(t){a.stopPropagation()}},swiperight:function(a){if(t){a.stopPropagation()}},dragend:function(K){if(!t){return}K.stopPropagation();if(sliderRequestAnimationFrame){cancelAnimationFrame(sliderRequestAnimationFrame);sliderRequestAnimationFrame=null}var S=K.detail;t=false;var O="close";var J=sliderDirection==="toLeft"?sliderActionRightWidth:sliderActionLeftWidth;var a=S.swipe||(Math.abs(translateX)>J/2);if(a){if(!isOpened){O="open"}else{if(S.direction==="left"&&openedActions==="right"){O="open"}else{if(S.direction==="right"&&openedActions==="left"){O="open"}}}}d.classList.add(f);var U;if(O==="open"){var M=sliderDirection==="toLeft"?-J:J;g(F,M);U=sliderDirection==="toLeft"?buttonsRight:buttonsLeft;if(typeof U!=="undefined"){var R=null;for(var P=0;P<U.length;P++){R=U[P];g(R,M)}R.parentNode.classList.add(x);d.classList.add(x);if(!isOpened){j.trigger(d,sliderDirection==="toLeft"?"slideleft":"slideright")}}}else{g(F,0);sliderActionLeft&&sliderActionLeft.classList.remove(x);sliderActionRight&&sliderActionRight.classList.remove(x);d.classList.remove(x)}var N;if(buttonsLeft&&buttonsLeft.length>0&&buttonsLeft!==U){for(var P=0,T=buttonsLeft.length;P<T;P++){var L=buttonsLeft[P];N=L._buttonOffset;if(typeof N==="undefined"){L._buttonOffset=sliderActionLeftWidth-L.offsetLeft-L.offsetWidth}g(L,N)}}if(buttonsRight&&buttonsRight.length>0&&buttonsRight!==U){for(var P=0,T=buttonsRight.length;P<T;P++){var Q=buttonsRight[P];N=Q._buttonOffset;if(typeof N==="undefined"){Q._buttonOffset=Q.offsetLeft}g(Q,-N)}}}};function k(a,J){var K=!!J?"removeEventListener":"addEventListener";a[K]("drag",s);a[K]("dragend",s);a[K]("swiperight",s);a[K]("swipeleft",s);a[K]("flick",s)}j.swipeoutOpen=function(L,R){if(!L){return}var J=L.classList;if(J.contains(x)){return}if(!R){if(L.querySelector(h)){R="right"}else{R="left"}}var a=L.querySelector(j.classSelector(".slider-"+R));if(!a){return}a.classList.add(x);J.add(x);J.remove(f);var Q=a.querySelectorAll(v);var P=a.offsetWidth;var M=(R==="right")?-P:P;var K=Q.length;var O;for(var N=0;N<K;N++){O=Q[N];if(R==="right"){g(O,-O.offsetLeft)}else{g(O,(P-O.offsetWidth-O.offsetLeft))}}J.add(f);for(var N=0;N<K;N++){g(Q[N],M)}g(L.querySelector(B),M)};j.swipeoutClose=function(L){if(!L){return}var J=L.classList;if(!J.contains(x)){return}var Q=L.querySelector(h+l)?"right":"left";var a=L.querySelector(j.classSelector(".slider-"+Q));if(!a){return}a.classList.remove(x);J.remove(x);J.add(f);var P=a.querySelectorAll(v);var O=a.offsetWidth;var K=P.length;var N;g(L.querySelector(B),0);for(var M=0;M<K;M++){N=P[M];if(Q==="right"){g(N,(-N.offsetLeft))}else{g(N,(O-N.offsetWidth-N.offsetLeft))}}};r.addEventListener("touchend",function(a){if(!d){return}w(false);F&&k(d,true)});r.addEventListener("touchcancel",function(a){if(!d){return}w(false);F&&k(d,true)});var n=function(K){var J=K.target&&K.target.type||"";if(J==="radio"||J==="checkbox"){return}var L=d.classList;if(L.contains("mui-radio")){var a=d.querySelector("input[type=radio]");if(a){if(!a.disabled&&!a.readOnly){a.checked=!a.checked;j.trigger(a,"change")}}}else{if(L.contains("mui-checkbox")){var a=d.querySelector("input[type=checkbox]");if(a){if(!a.disabled&&!a.readOnly){a.checked=!a.checked;j.trigger(a,"change")}}}}};r.addEventListener(j.EVENT_CLICK,function(a){if(d&&d.classList.contains("mui-collapse")){a.preventDefault()}});r.addEventListener("doubletap",function(a){if(d){n(a)}});var m=/^(INPUT|TEXTAREA|BUTTON|SELECT)$/;r.addEventListener("tap",function(L){if(!d){return}var a=false;var N=d.classList;var J=d.parentNode;if(J&&J.classList.contains(q)){if(N.contains(x)){return}var K=J.querySelector("li"+l);if(K){K.classList.remove(x)}N.add(x);j.trigger(d,"selected",{el:d});return}if(N.contains("mui-collapse")&&!d.parentNode.classList.contains("mui-unfold")){if(!m.test(L.target.tagName)){L.detail.gesture.preventDefault()}if(!N.contains(i)){var M=d.parentNode.querySelector(".mui-collapse.mui-active");if(M){M.classList.remove(i)}a=true}N.toggle(i);if(a){j.trigger(d,"expand")}}else{n(L)}})})(mui,window,document);(function(b,a){b.alert=function(c,e,d,f){if(b.os.plus){if(typeof c===undefined){return}else{if(typeof e==="function"){f=e;e=null;d="确定"}else{if(typeof d==="function"){f=d;d=null}}b.plusReady(function(){plus.nativeUI.alert(c,f,e,d)})}}else{a.alert(c)}}})(mui,window);(function(b,a){b.confirm=function(d,e,c,f){if(b.os.plus){if(typeof d===undefined){return}else{if(typeof e==="function"){f=e;e=null;c=null}else{if(typeof c==="function"){f=c;c=null}}b.plusReady(function(){plus.nativeUI.confirm(d,f,e,c)})}}else{if(a.confirm(d)){f({index:0})}else{f({index:1})}}}})(mui,window);(function(b,a){b.prompt=function(g,e,f,d,h){if(b.os.plus){if(typeof message===undefined){return}else{if(typeof e==="function"){h=e;e=null;f=null;d=null}else{if(typeof f==="function"){h=f;f=null;d=null}else{if(typeof d==="function"){h=d;d=null}}}b.plusReady(function(){plus.nativeUI.prompt(g,h,f,e,d)})}}else{var c=a.prompt(g);if(c){h({index:0,value:c})}else{h({index:1,value:""})}}}})(mui,window);(function(b,a){b.toast=function(d){if(b.os.plus){b.plusReady(function(){plus.nativeUI.toast(d,{verticalAlign:"bottom"})})}else{var c=document.createElement("div");c.classList.add("mui-toast-container");c.innerHTML='<div class="mui-toast-message">'+d+"</div>";document.body.appendChild(c);setTimeout(function(){document.body.removeChild(c)},2000)}}})(mui,window);(function(d,f,n){var s="mui-icon";var b="mui-icon-clear";var e="mui-icon-speech";var a="mui-icon-search";var i="mui-icon-eye";var k="mui-input-row";var c="mui-placeholder";var m="mui-tooltip";var p="mui-hidden";var t="mui-focusin";var h="."+b;var l="."+e;var j="."+i;var g="."+c;var r="."+m;var o=function(u){for(;u&&u!==n;u=u.parentNode){if(u.classList&&u.classList.contains(k)){return u}}return null};var q=function(v,u){this.element=v;this.options=u||{actions:"clear"};if(~this.options.actions.indexOf("slider")){this.sliderActionClass=m+" "+p;this.sliderActionSelector=r}else{if(~this.options.actions.indexOf("clear")){this.clearActionClass=s+" "+b+" "+p;this.clearActionSelector=h}if(~this.options.actions.indexOf("speech")){this.speechActionClass=s+" "+e;this.speechActionSelector=l}if(~this.options.actions.indexOf("search")){this.searchActionClass=c;this.searchActionSelector=g}if(~this.options.actions.indexOf("password")){this.passwordActionClass=s+" "+i;this.passwordActionSelector=j}}this.init()};q.prototype.init=function(){this.initAction();this.initElementEvent()};q.prototype.initAction=function(){var u=this;var v=u.element.parentNode;if(v){if(u.sliderActionClass){u.sliderAction=u.createAction(v,u.sliderActionClass,u.sliderActionSelector)}else{if(u.searchActionClass){u.searchAction=u.createAction(v,u.searchActionClass,u.searchActionSelector);u.searchAction.addEventListener("tap",function(w){d.focus(u.element);w.stopPropagation()})}if(u.speechActionClass){u.speechAction=u.createAction(v,u.speechActionClass,u.speechActionSelector);u.speechAction.addEventListener("click",d.stopPropagation);u.speechAction.addEventListener("tap",function(w){u.speechActionClick(w)})}if(u.clearActionClass){u.clearAction=u.createAction(v,u.clearActionClass,u.clearActionSelector);u.clearAction.addEventListener("tap",function(w){u.clearActionClick(w)})}if(u.passwordActionClass){u.passwordAction=u.createAction(v,u.passwordActionClass,u.passwordActionSelector);u.passwordAction.addEventListener("tap",function(w){u.passwordActionClick(w)})}}}};q.prototype.createAction=function(x,w,u){var v=x.querySelector(u);if(!v){var v=n.createElement("span");v.className=w;if(w===this.searchActionClass){v.innerHTML='<span class="'+s+" "+a+'"></span><span>'+this.element.getAttribute("placeholder")+"</span>";this.element.setAttribute("placeholder","");if(this.element.value.trim()){x.classList.add("mui-active")}}x.insertBefore(v,this.element.nextSibling)}return v};q.prototype.initElementEvent=function(){var z=this.element;if(this.sliderActionClass){var C=this.sliderAction;var w=z.offsetLeft;var v=z.offsetWidth-28;var A=C.offsetWidth;var B=Math.abs(z.max-z.min);var u=null;var y=function(){C.classList.remove(p);A=A||C.offsetWidth;var D=(v/B)*Math.abs(z.value-z.min);C.style.left=(14+w+D-A/2)+"px";C.innerText=z.value;if(u){clearTimeout(u)}u=setTimeout(function(){C.classList.add(p)},1000)};z.addEventListener("input",y);z.addEventListener("tap",y);z.addEventListener("touchmove",function(D){D.stopPropagation()})}else{if(this.clearActionClass){var x=this.clearAction;if(!x){return}d.each(["keyup","change","input","focus","cut","paste"],function(D,E){(function(F){z.addEventListener(F,function(){x.classList[z.value.trim()?"remove":"add"](p)})})(E)});z.addEventListener("blur",function(){x.classList.add(p)})}if(this.searchActionClass){z.addEventListener("focus",function(){z.parentNode.classList.add("mui-active")});z.addEventListener("blur",function(){if(!z.value.trim()){z.parentNode.classList.remove("mui-active")}})}}};q.prototype.setPlaceholder=function(v){if(this.searchActionClass){var u=this.element.parentNode.querySelector(g);u&&(u.getElementsByTagName("span")[1].innerText=v)}else{this.element.setAttribute("placeholder",v)}};q.prototype.passwordActionClick=function(u){if(this.element.type==="text"){this.element.type="password"}else{this.element.type="text"}this.passwordAction.classList.toggle("mui-active");u.preventDefault()};q.prototype.clearActionClick=function(v){var u=this;u.element.value="";d.focus(u.element);u.clearAction.classList.add(p);v.preventDefault()};q.prototype.speechActionClick=function(w){if(f.plus){var u=this;var v=u.element.value;u.element.value="";n.body.classList.add(t);plus.speech.startRecognize({engine:"iFly"},function(x){u.element.value+=x;d.focus(u.element);plus.speech.stopRecognize();d.trigger(u.element,"recognized",{value:u.element.value});if(v!==u.element.value){d.trigger(u.element,"change");d.trigger(u.element,"input")}},function(x){n.body.classList.remove(t)})}else{alert("only for 5+")}w.preventDefault()};d.fn.input=function(u){var v=[];this.each(function(){var x=null;var B=[];var A=o(this.parentNode);if(this.type==="range"&&A.classList.contains("mui-input-range")){B.push("slider")}else{var z=this.classList;if(z.contains("mui-input-clear")){B.push("clear")}if(z.contains("mui-input-speech")){B.push("speech")}if(z.contains("mui-input-password")){B.push("password")}if(this.type==="search"&&A.classList.contains("mui-search")){B.push("search")}}var C=this.getAttribute("data-input-"+B[0]);if(!C){C=++d.uuid;x=d.data[C]=new q(this,{actions:B.join(",")});for(var y=0,w=B.length;y<w;y++){this.setAttribute("data-input-"+B[y],C)}}else{x=d.data[C]}v.push(x)});return v.length===1?v[0]:v};d.ready(function(){d(".mui-input-row input").input()})})(mui,window,document);(function(c){var b=("ontouchstart" in document);var h=b?"tap":"click";var e="change";var i="mui-numbox";var f="mui-btn-numbox-plus,mui-numbox-btn-plus";var a="mui-btn-numbox-minus,mui-numbox-btn-minus";var d="mui-input-numbox,mui-numbox-input";var g=c.Numbox=c.Class.extend({init:function(l,k){var j=this;if(!l){throw"构造 numbox 时缺少容器元素"}j.holder=l;k=k||{};k.step=parseInt(k.step||1);j.options=k;j.input=c.qsa("."+d,j.holder)[0];j.plus=c.qsa("."+f,j.holder)[0];j.minus=c.qsa("."+a,j.holder)[0];j.checkValue();j.initEvent()},initEvent:function(){var j=this;j.plus.addEventListener(h,function(k){var l=parseInt(j.input.value)+j.options.step;j.input.value=l.toString();c.trigger(j.input,e,null)});j.minus.addEventListener(h,function(k){var l=parseInt(j.input.value)-j.options.step;j.input.value=l.toString();c.trigger(j.input,e,null)});j.input.addEventListener(e,function(k){j.checkValue();var l=parseInt(j.input.value);c.trigger(j.holder,e,{value:l})})},getValue:function(){var j=this;return parseInt(j.input.value)},checkValue:function(){var j=this;var k=j.input.value;if(k==null||k==""||isNaN(k)){j.input.value=j.options.min||0;j.minus.disabled=j.options.min!=null}else{var k=parseInt(k);if(j.options.max!=null&&!isNaN(j.options.max)&&k>=parseInt(j.options.max)){k=j.options.max;j.plus.disabled=true}else{j.plus.disabled=false}if(j.options.min!=null&&!isNaN(j.options.min)&&k<=parseInt(j.options.min)){k=j.options.min;j.minus.disabled=true}else{j.minus.disabled=false}j.input.value=k}},setOption:function(k,l){var j=this;j.options[k]=l}});c.fn.numbox=function(j){var k=[];this.each(function(o,n){if(n.numbox){return}if(m){n.numbox=new g(n,m)}else{var l=n.getAttribute("data-numbox-options");var m=l?JSON.parse(l):{};m.step=n.getAttribute("data-numbox-step")||m.step;m.min=n.getAttribute("data-numbox-min")||m.min;m.max=n.getAttribute("data-numbox-max")||m.max;n.numbox=new g(n,m)}});return this[0]?this[0].numbox:null};c.ready(function(){c("."+i).numbox()})}(mui));